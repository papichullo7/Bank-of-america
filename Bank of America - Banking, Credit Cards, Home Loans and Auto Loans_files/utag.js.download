//tealium universal tag - utag.loader ut4.0.201808201735, Copyright 2018 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_bofa_main=(\/\/tags\.tiqcdn\.com\/utag\/bofa\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/bofa/main/prod/';}}})();}catch(e){};try{(function(name,context,definition){if(!context||!Array.prototype.filter){return;}
context[name]=definition();})('bactm',typeof window!=='undefined'?window:null,function(){var win=window,doc=document||{},version='2.20.4',plugins={},publishedEvents={},queuedEvents={},env=win.bactm_envSelector||'notprod',utagLoadStopped=false,isDOMReady=false,readyHandlers=[],loadCoremetrics=typeof digitalData!=='undefined'&&(typeof digitalData.load_coremetrics==='undefined'||digitalData.load_coremetrics===null||digitalData.load_coremetrics.toString().toLowerCase()!=='false'),pageviewOnLoad=typeof digitalData!=='undefined'&&(typeof digitalData.disable_pageviewonload==='undefined'||digitalData.disable_pageviewonload===null||digitalData.disable_pageviewonload.toString().toLowerCase()!=='true'),isProd=env==='prod'?true:false,cmLibLoadEventName='bactm_libload',attrValueSeperator='-_-',segmentWrapperChar='|',segmentValueSeperator=segmentWrapperChar+segmentWrapperChar,storageKeyPrefix='bactm.',logQ=[],_logPageviewToSplunk={'homepage:Content:Personal;homepage_personal':true,'homepage:Content:Personal;homepage_personal_signoff':true},conversionActionTypes={'initiate':1,'complete':2},SITE_PROMOTIONS_INTERVAL=300,SITE_PROMOTIONS_THRESHOLD=3000,SITE_PROMOTIONS_ACCUMULATOR=0,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1},LOG_LEVEL_STRINGS={5:'trace',4:'error',3:'warn',2:'info',1:'log'},_settings={logLevel:isProd?LOG_LEVEL.OFF:LOG_LEVEL.DEBUG,coremetricsUtagId:1};var _init=function(){_log('bactm library v'+version+' initializing.',LOG_LEVEL.INFO);win.dataCollector=win.dataCollector||[];if(pageviewOnLoad)pageview();if(loadCoremetrics){doc.addEventListener(cmLibLoadEventName,_onCoremetricsLibraryReady);}else{_ready(_onLoad);}
var eventName='onpagehide'in window?'pagehide':'beforeunload';window.addEventListener(eventName,_sendLogBeacon,false);_processSitePromotions();_setPrivacy();}
var _processSitePromotions=function(){var querySitePromotions=setInterval(function(){if(SITE_PROMOTIONS_ACCUMULATOR>SITE_PROMOTIONS_THRESHOLD){_trigger('sitePromotionsProcessed');return clearInterval(querySitePromotions);}
var links=polyfills.array.from(document.querySelectorAll('a'));var sitePromotionLinks=links.filter(function(link){return polyfills.string.includes(link.href,'cm_sp=');});sitePromotionLinks.forEach(function(spLink){var qs=new QueryString(spLink.href);var sitePromotion={event:'sitepromotion',options:{value:qs.get('cm_sp'),href:spLink.href}};if(!_isInDataCollector(sitePromotion))dataCollector.push(sitePromotion)});SITE_PROMOTIONS_ACCUMULATOR+=SITE_PROMOTIONS_INTERVAL;},SITE_PROMOTIONS_INTERVAL);}
_isInDataCollector=function(needle){if(typeof needle!=='object')return false;var dc=window.dataCollector||[];for(var i=0;i<dc.length;i++){var dcEvent=dc[i];if(_is(dcEvent,needle))return true;}
return false;};_is=function(o1,o2){if(typeof o1!=='object'||typeof o2!=='object')return false
var o1k=Object.keys(o1);return o1k.every(function(key){if(!o2.hasOwnProperty(key))return false;if(typeof o1[key]==='object')return _is(o1[key],o2[key])
return o1[key]===o2[key]});};var _onCoremetricsLibraryReady=function(){_log('Coremetrics libraries loaded event fired.',LOG_LEVEL.INFO);doc.removeEventListener(cmLibLoadEventName,_onCoremetricsLibraryReady);_setCoremetricsEnvironment();_ready(_onLoad);}
var _onLoad=function(){win.dataCollector=win.dataCollector||[];var dataCollectorQueue=new _dataCollectorHelper(win.dataCollector,_processDataCollector,true);if(typeof win.bactm_fireImpressions==='boolean'&&win.bactm_fireImpressions===true)
_impressions();}
var _firePageview=function(pageInfoKey,options){var options=options||{},pageInfoArrayIndex=_lookupArrayIndexByKey(pageInfoKey,options);_processOptions(pageInfoArrayIndex,options);_log('Call pageview on array index '+pageInfoArrayIndex+' with options: ',options,LOG_LEVEL.DEBUG);if(_toLowerCaseString(ddo.get('page.attributes.stateCookie'))==='true')_setStateSegmentValue(pageInfoArrayIndex);if(_toLowerCaseString(ddo.get('page.attributes.needOLBcookie'))==='true')_setOLBSegmentValue(pageInfoArrayIndex);_setWindowResolutionSegmentValue(pageInfoArrayIndex);_setSNRSegmentValue(pageInfoArrayIndex);var pageInfo=_getPageInfo(pageInfoArrayIndex,options);if(!pageInfo){_log('Unable to fire pageview. pageInfo object is null or does not exist.',LOG_LEVEL.INFO);return;}
_log('Firing a pageview with the following info: ',pageInfo,LOG_LEVEL.INFO);_trigger('beforePageview',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});if(typeof bactm_cmCreatePageviewTag==='function'){try{bactm_cmCreatePageviewTag(pageInfo.pageID,null,pageInfo.searchString,pageInfo.category,false,false,null,false,false,null,pageInfo.applicationID,pageInfo.segmentValue,pageInfo.searchResults,pageInfo.olbSessionID,pageInfo.appName,pageInfo.appStepNumber,pageInfo.appStepName,pageInfo.attr,pageInfo.subCampaignCode,pageInfo.referringURL,pageInfo.destinationURL);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_pageIDHistory('add',pageInfoArrayIndex,pageInfo.pageID);_impressions();}
_trigger('afterPageview',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initClickAttributes',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initTargetValues',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initChatPageView',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});}
var _fireCartView=function(){if(typeof bactm_cmCreateShopAction5Tag!=='function')return;_trigger('beforeCartView');var products=ddo.get('cart.item',[]);for(var i=0,len=products.length;i<len;i++){if(!products[i].attributes||!products[i].attributes.cartViewTagFired){try{bactm_cmCreateShopAction5Tag(products[i].productInfo.productID,products[i].productInfo.productName,products[i].category.primaryCategory,null,null,null,null,1);products[i].attributes=products[i].attributes||{};products[i].attributes.cartViewTagFired=true;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('cart.item',products);_saveCartToStore();_trigger('afterCartView');}
var _fireProductsPurchased=function(){if(typeof bactm_cmCreateShopAction9Tag!=='function')return;_trigger('beforeProductsPurchased');var products=ddo.get('cart.item',[]);for(var i=0,len=products.length;i<len;i++){if(products[i].attributes&&_toLowerCaseString(products[i].attributes.cartViewTagFired)!=='false'){try{bactm_cmCreateShopAction9Tag(products[i].productInfo.productID,products[i].productInfo.productName,_readCookie("BOA_0020"),ddo.get('cart.applicationID'),products[i].category.primaryCategory,null,null,null,null,true,ddo.get('cart.applicationDecision'),null,1);products[i].attributes=products[i].attributes||{};products[i].attributes.cartViewTagFired=false;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('cart.item',products);_saveCartToStore();_trigger('afterProductsPurchased');}
var _fireProductview=function(){if(typeof bactm_cmCreateProductviewTag!=='function')return;_trigger('beforeProductview');var products=ddo.get('product',[]);for(var i=0,len=products.length;i<len;i++){if(!products[i].attributes||!products[i].attributes.productviewTagFired){try{bactm_cmCreateProductviewTag(products[i].productInfo.productID,products[i].productInfo.productName,products[i].category.primaryCategory,null,false,false,null,false,null,null,false,null);products[i].attributes=products[i].attributes||{};products[i].attributes.productviewTagFired=true;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('product',products);_trigger('afterProductview');}
var _fireConversionEvent=function(eventName,actionType,category){var conversion={eventName:eventName,actionType:actionType,category:category};_trigger('beforeConversion',{'conversion':conversion});try{bactm_cmCreateConversionEventTag(eventName,conversionActionTypes[actionType],category);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterConversion',{'conversion':conversion});}
var _fireCustomError=function(errorCode,errorMessage){var eventInfo={'event':'customError','errorCode':errorCode,'errorMessage':errorMessage};_trigger('beforeCustomError',eventInfo);try{var pageID=cG7.cM0[cm_ClientID];var categoryID=pageID.split(';')[0];bactm_cmCreateCustomError(pageID,null,null,null,errorCode,categoryID,errorMessage);}
catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterCustomError',eventInfo);}
var _fireManualLinkClick=function(href,linkname){var eventInfo={'event':'manualLinkClick','href':href,'linkname':linkname};_trigger('beforeManualLinkClick',eventInfo);if(!href||href===''||href==='#'){href='javascript:void(0);';}
try{var pageID=cG7.cM0[cm_ClientID];bactm_cmCreateManualLinkClickTag(href,linkname,pageID);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterManualLinkClick',eventInfo);}
var _revertToPreviousPageID=function(pageInfoArrayIndex){var pageID='';if(!isNaN(pageInfoArrayIndex)){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageID=ddo.pageInfo.get('pageID',pageInfoArrayIndex);}else{pageID=_pageIDHistory('prev');}
try{cG7.cM0[cm_ClientID]=pageID;}catch(e){_log(e,LOG_LEVEL.ERROR);}}
var _rescanDOM=function(){try{cX('onload');}catch(e){_log(e,LOG_LEVEL.ERROR);}}
var _addToLogQ=function(data){var q=logQ||[];q.push(data);}
var _impressions=function(){win.bactm_cYQ=win.bactm_cYQ||[];win.bactm_cYQ.push(Date.now());var _cy=function(){win.bactm_cYQ=[];win.cY();}
if((typeof win.bactm_cXExecuting==='undefined'||win.bactm_cXExecuting===false)&&typeof win.cY==='function'){_cy();return;}
var _repeat=function(){setTimeout(_check,100);}
var _check=function(){if(win.bactm_cYQ.length===0)return;if(win.bactm_cXExecuting===true){_repeat();return;}
_cy();}
if(win.bactm_cYQ.length===1)_repeat();}
var _setPrivacy=function(){if(!ddo.get("privacy")){ddo.set("privacy",{do_not_track:false});}
console.log(ddo);if(!ddo.get("privacy.do_not_track")){ddo.set("privacy.do_not_track",false);}
var tv=_readCookie("throttle_value");ddo.set("privacy.do_not_track",(tv==="999")?true:ddo.get("privacy.do_not_track"));ddo.set("privacy.do_not_track",(navigator.doNotTrack===1)?true:ddo.get("privacy.do_not_track"));}
var _processDataCollector=function(message){_log('dataCollector processing: ',message,LOG_LEVEL.DEBUG);var _event=_toLowerCaseString(message.event);var events={'pageview':function(){_firePageview(message.pageInfoKey||0,message.options||{});var pageId=ddo.pageInfo.get('pageID',message.pageInfoKey,'');if(_logPageviewToSplunk[pageId])log({type:'pageview',pageId:pageId});},'productview':function(){_fireProductview();},'cartview':function(){_fireCartView();},'productspurchased':function(){_fireProductsPurchased();},'conversion':function(){_fireConversionEvent(message.eventName,message.actionType,message.category);},'manuallinkclick':function(){_fireManualLinkClick(message.href,message.linkname);},'customerror':function(){_fireCustomError(message.errorCode,message.errorMessage);},'customevent':function(){var details=message.options||{};details['eventKey']=message.eventKey;_trigger('customEvent',details);},'log':function(){var data=message.data||{};_addToLogQ(data);}}
if(events[_event]){events[_event]();}}
var _lookupArrayIndexByKey=function(pageInfoKey,options){var options=options||{},pageInfoKeyIsString=typeof pageInfoKey==='string',pageInfoArrayIndex=0;if(pageInfoKey){if(pageInfoKeyIsString&&_toLowerCaseString(options.lookupType)==='associatedvalue'){pageInfoArrayIndex=_findPageInfoArrayIndexByAssociatedValue(pageInfoKey);if(pageInfoArrayIndex===-1){_log('Unable to find pageInfo matching the specified associated value. Defaulting to zero.',LOG_LEVEL.WARN);pageInfoArrayIndex=0;}}else if(pageInfoKeyIsString){pageInfoArrayIndex=_findPageInfoArrayIndexByPageID(pageInfoKey);if(pageInfoArrayIndex===-1){_log('Unable to find pageInfo matching the specified pageID. Defaulting to zero.',LOG_LEVEL.WARN);pageInfoArrayIndex=0;}}else{if(_isValidPageInfoArrayIndex(pageInfoKey))pageInfoArrayIndex=pageInfoKey;}}
return pageInfoArrayIndex;}
var _processOptions=function(pageInfoArrayIndex,options){if(typeof options.loadCart!=='undefined'&&_toLowerCaseString(options.loadCart)==='true'){_loadCartFromStore();delete options.loadCart;}
if(typeof options.clickDART!=='undefined'){_setProperty('clickDART',options.clickDART,pageInfoArrayIndex);delete options.clickDART;}
if(typeof options.authenticated!=='undefined'){_setProperty('authenticated',options.authenticated);delete options.authenticated;}
if(typeof options.applicationId!=='undefined'){_setProperty('applicationId',options.applicationId);delete options.applicationId;}
if(typeof options.applicationDecision!=='undefined'){_setProperty('applicationDecision',options.applicationDecision);delete options.applicationDecision;}
if(typeof options.saveAndReturnId!=='undefined'){_setProperty('saveAndReturnId',options.saveAndReturnId,pageInfoArrayIndex);delete options.saveAndReturnId;}
if(typeof options.standardDART!=='undefined'){_setProperty('standardDART',options.standardDART,pageInfoArrayIndex);delete options.standardDART;}
if(typeof options.standardDARTes!=='undefined'){_setProperty('standardDARTes',options.standardDARTes,pageInfoArrayIndex);delete options.standardDARTes;}
if(typeof options.mboxCreateParam!=='undefined'){_setProperty('mboxCreateParam',options.mboxCreateParam,pageInfoArrayIndex);delete options.mboxCreateParam;}
if(typeof options.mboxCreateParam_es!=='undefined'){_setProperty('mboxCreateParam_es',options.mboxCreateParam_es,pageInfoArrayIndex);delete options.mboxCreateParam_es;}
if(typeof options.mboxCreateArgs!=='undefined'){_setProperty('mboxCreateArgs',options.mboxCreateArgs,pageInfoArrayIndex);delete options.mboxCreateArgs;}
if(typeof options.chat!=='undefined'){_setProperty('chat',options.chat,pageInfoArrayIndex);delete options.chat;}
if(typeof options.segmentValues!=='undefined'){addManySegmentValues(options.segmentValues,pageInfoArrayIndex);delete options.segmentValues;}
if(typeof options.cartProducts!=='undefined'){addProductsToCart(options.cartProducts);delete options.cartProducts;}
options['isApp']=_toLowerCaseString(options.isApp)==='true'?true:false;options['isSaveAndReturn']=_toLowerCaseString(options.isSaveAndReturn)==='true'?true:false;}
var _getPageInfo=function(pageInfoArrayIndex,options){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;options=options||{};var pageInfo=_clone(ddo.get('page.pageInfo['+pageInfoArrayIndex+']'));if(!pageInfo.pageID&&win.cG7&&win.cG7.cM0&&win.cm_ClientID)pageInfo['pageID']=cG7.cM0[cm_ClientID];if(!pageInfo.pageID)pageInfo['pageID']='';var category=ddo.get('page.category.primaryCategory');if(typeof(options.addlCategoryIndex)!=='undefined'||_toLowerCaseString(options.categoryType)==='additional'){var additionalCat=ddo.get('page.category.addlCategory');if(Array.isArray(additionalCat)){if(_isValidAddlCategoryArrayIndex(options.addlCategoryIndex)){category=additionalCat[options.addlCategoryIndex];}else{category=additionalCat[0];}}else{category=additionalCat;}}
var isApp=((pageInfo.appName&&pageInfo.appStepNumber)||options.isApp===true)?true:false;if(isApp)pageInfo=_getAppPageInfo(pageInfo,category,options.isSaveAndReturn);var _pageInfo=pageInfo||{};_pageInfo['pageID']=_localizePageID(pageInfo.pageID,pageInfo.language);_pageInfo['applicationID']=ddo.get('cart.applicationID');_pageInfo['category']=category;_pageInfo['attr']=_getAttrValue(pageInfo);_pageInfo['searchString']=ddo.get('page.attributes.searchString');_pageInfo['searchResults']=ddo.get('page.attributes.searchResults');_pageInfo['olbSessionID']=ddo.get('page.attributes.olbSessionID');_pageInfo['subCampaignCode']=ddo.get('page.attributes.subCampaignCode');_pageInfo['authenticated']=(_toLowerCaseString(ddo.get('user.authenticated'))==='true')?true:false;_pageInfo['pageInfoArrayIndex']=pageInfoArrayIndex;return _pageInfo;}
var _getAppPageInfo=function(pageInfo,category,isSaveAndReturn){var cat=category||ddo.get('page.category.primaryCategory','');pageInfo=pageInfo||{};pageInfo['originalAppName']=pageInfo.appName||'None';pageInfo['appName']=pageInfo.appName+'_'+
(_toLowerCaseString(ddo.get('user.authenticated'))==='true'?'OLB':'NonOLB')+
(isSaveAndReturn?'_SNR':'');pageInfo['pageID']=cat+
';'+pageInfo.appName+
':'+pageInfo.appStepNumber+
':'+pageInfo.appStepName;return pageInfo;}
var _getSegmentValues=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var segmentValue=ddo.pageInfo.get('segmentValue',pageInfoArrayIndex);if(!segmentValue)return{};var segmentPairs=_trim(segmentValue).split(segmentValueSeperator);var segments={};for(var i=0,segmentPairsLen=segmentPairs.length;i<segmentPairsLen;i++){var segment=_getSegmentKeyValue(segmentPairs[i]);segments[segment.key]=segment.value;}
return segments;}
var _saveSegmentValues=function(value,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;ddo.pageInfo.set('segmentValue',value,pageInfoArrayIndex);}
var _getSegmentValue=function(key,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var current=_getSegmentKeyValues(pageInfoArrayIndex);return current[key];}
var _setSegmentValue=function(key,value,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var segmentValuesString='';var current=_getSegmentValues(pageInfoArrayIndex);current[_trim(key)]=value?_trim(value):'';for(var key in current){if(current.hasOwnProperty(key)){segmentValuesString+=segmentWrapperChar+key+
(current[key]!==''?'_'+current[key]:'')+
segmentWrapperChar;}}
_saveSegmentValues(segmentValuesString,pageInfoArrayIndex);}
var _getSegmentKeyValue=function(segment){var firstUnderscore=segment.indexOf('_');if(firstUnderscore>-1){key=segment.substring(0,firstUnderscore);value=segment.substring(firstUnderscore+1);}else{key=segment;value='';}
return{key:key,value:value};}
var _setStateSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var stateFromCookie;if(_toLowerCaseString(ddo.get('page.attributes.stateCookie'))==='true')stateFromCookie=_readCookie('state');if(stateFromCookie)_setSegmentValue('st',stateFromCookie,pageInfoArrayIndex);}
var _setOLBSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var authenticated='N';if(_readCookie('BA_0021'))authenticated='Y';_setSegmentValue('olbc',authenticated,pageInfoArrayIndex);}
var _setWindowResolutionSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var value=win.innerWidth+'_'+win.innerHeight;_setSegmentValue('rez',value,pageInfoArrayIndex);}
var _setSNRSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;try{var SNR=ddo.pageInfo.get('saveAndReturnId',pageInfoArrayIndex);if(SNR)_setSegmentValue('SNR',SNR,pageInfoArrayIndex);}catch(e){}}
var _getAttrValue=function(pageInfo){var attributes=pageInfo.attr.split(attrValueSeperator);if(attributes.length>0){attributes[0]+=pageInfo.segmentValue;}
attributes[9]='1';return attributes.join(attrValueSeperator);}
var _setProperty=function(property,value,pageInfoArrayIndex){var setAuth=function(){if(_toLowerCaseString(value)==='true'||_toLowerCaseString(value)==='false'){ddo.set('user.authenticated',(_toLowerCaseString(value)==='true')?true:false);}}
var setAppID=function(){ddo.set('cart.applicationID',value);}
var setAppDecision=function(){ddo.set('cart.applicationDecision',value);}
var setPageInfoProperty=function(){if(_isValidPageInfoArrayIndex(pageInfoArrayIndex)){ddo.pageInfo.set(property,value,pageInfoArrayIndex);}}
var commands={'authenticated':setAuth,'applicationId':setAppID,'applicationDecision':setAppDecision,'standardDART':setPageInfoProperty,'standardDARTes':setPageInfoProperty,'mboxCreateParam':setPageInfoProperty,'mboxCreateParam_es':setPageInfoProperty,'mboxCreateArgs':setPageInfoProperty,'chat':setPageInfoProperty,'saveAndReturnId':setPageInfoProperty,'clickDART':setPageInfoProperty}
if(commands[property]){commands[property]();}}
var _localizePageID=function(pageID,language){ctryCd=/([A-Za-z]){2}[\:\;_-]/
language=(ctryCd.exec(language))?language.substr(0,ctryCd.exec(language).length):language
if(!language||language.toLowerCase().indexOf('en')>-1||pageID.slice(-3).toUpperCase()==='_'+language.toUpperCase())return pageID;else return pageID+'_'+language.toUpperCase();}
var _addProducts=function(products){if(!Array.isArray(products)&&typeof products!=='object')
throw new TypeError('addProducts requires a product object or an array of product objects.');products=_asArray(products);var ddoProducts=ddo.get('product',[]);for(var i=0,productsLen=products.length;i<productsLen;i++){if(_findArrayIndexByProperty(ddoProducts,'productInfo.productID',products[i].productID,true)===-1){ddoProducts.push({'productInfo':{'productID':products[i].productID,'productName':products[i].productName},'category':{'primaryCategory':products[i].productCategory}});}}}
var _addProductsToCart=function(products){if(!Array.isArray(products)&&typeof products!=='object')
throw new TypeError('addProductsToCart requires a product object or an array of product objects.');products=_asArray(products);var ddoProducts=ddo.get('cart.item',[]);for(var i=0,productsLen=products.length;i<productsLen;i++){if(_findArrayIndexByProperty(ddoProducts,'productInfo.productID',products[i].productID,true)===-1){ddoProducts.push({'productInfo':{'productID':products[i].productID,'productName':products[i].productName},'category':{'primaryCategory':products[i].productCategory},'attributes':{'cartViewTagFired':false}});}}
_saveCartToStore();cartView();}
var _saveCartToStore=function(){var cart=ddo.get('cart',{});var store=new Store('cart');var key=_getCartStoreKey();store.set(key,cart);store.save();}
var _loadCartFromStore=function(){var store=new Store('cart');var key=_getCartStoreKey();var cart=store.get(key);if(!_isEmpty(cart))ddo.set('cart',cart);}
var _getCartStoreKey=function(){return ddo.pageInfo.get('appName',0,'noKey');}
var _toLowerCaseString=function(value){return(value+'').toLowerCase();}
var _clone=function(source){return JSON.parse(JSON.stringify(source));}
var _readCookie=function(name){var cookies=new Cookies();return cookies.get(name);}
var _pageIDHistory=function(command,pageInfoArrayIndex,pageID){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;if(!pageID)pageID=ddo.pageInfo.get('pageID',pageInfoArrayIndex);var history=ddo.get('page.attributes.pageIDHistory',[]);var lastIndex=history.length-1;var add=function(){if(history.length===0||history[lastIndex].pageID.toLowerCase()!==pageID.toLowerCase()){history.push({'pageInfoArrayIndex':pageInfoArrayIndex,'pageID':pageID,'timestamp':new Date().getTime()});}};var prev=function(){if(history.length>1){history.pop();}
return history[lastIndex-1].pageID;}
var current=function(){return history[lastIndex].pageID;}
var commands={'add':add,'prev':prev,'current':current}
if(commands[command]){return commands[command]();}}
var _pushToDataCollector=function(message){win.dataCollector=win.dataCollector||[];_trigger('beforePushToDataCollector',message);win.dataCollector.push(message);_trigger('afterPushToDataCollector',message);}
var _ready=function(handler){if(isDOMReady&&typeof handler==='function'){handler();}else{readyHandlers.push(handler);}}
var _processReadyHandlers=function(){readyHandlers.forEach(function(handler){if(typeof handler==='function')handler();});readyHandlers=[];}
var _onDomReady=function(){if(!isDOMReady){isDOMReady=true;_processReadyHandlers();}}
var _domLoadComplete=function(){doc.removeEventListener("DOMContentLoaded",_domLoadComplete);_onDomReady();}
var _stopUtagLoad=function(){_log('utagLoadStopped: '+utagLoadStopped,LOG_LEVEL.DEBUG);if(!utagLoadStopped){_log('Stopping further utag loading.',LOG_LEVEL.INFO);utagLoadStopped=true;win.utag_cfg_ovrd={noview:true};}}
var _loadUtags=function(utagIds){if(utagIds){utagIds=_asArray(utagIds);utag.view(utag_data,utagIds);_log('Loading utags:',utagIds,LOG_LEVEL.INFO);}else{utagLoadStopped=false;utag.view(utag_data);_log('Loading all utags.',LOG_LEVEL.INFO);}}
var _loadCoremetricsLibraries=function(){_log('load coremetrics utag: '+_settings.coremetricsUtagId,LOG_LEVEL.INFO);_loadUtags(_settings.coremetricsUtagId);}
var _setCoremetricsEnvironment=function(){if(isProd&&typeof win.cmSetProduction==='function')win.cmSetProduction();else if(typeof win.cmSetStaging==='function')win.cmSetStaging();}
var _isValidPageInfoArrayIndex=function(pageInfoArrayIndex){if(typeof pageInfoArrayIndex==='undefined'||pageInfoArrayIndex===null||isNaN(pageInfoArrayIndex)){_log('pageInfoArrayIndex provided is not a number. Defaulting to zero.',LOG_LEVEL.WARN);return false;}
var pageInfo=ddo.get('page.pageInfo',[]);if(pageInfoArrayIndex<0||pageInfoArrayIndex>pageInfo.length-1){_log('pageInfoArrayIndex provided is outside the bounds of the pageInfo array. Defaulting to zero.');return false;}
return true;}
var _isValidAddlCategoryArrayIndex=function(addlCategoryArrayIndex){if(typeof addlCategoryArrayIndex==='undefined'||addlCategoryArrayIndex===null||isNaN(addlCategoryArrayIndex)){_log('addlCategoryArrayIndex provided is not a number. Defaulting to zero.',LOG_LEVEL.WARN);return false;}
var addlCategory=ddo.get('page.category.addlCategory',[]);if(addlCategoryArrayIndex<0||addlCategoryArrayIndex>addlCategory.length-1){_log('addlCategoryArrayIndex provided is outside the bounds of the addlCategory array. Defaulting to zero.');return false;}
return true;}
var _findPageInfoArrayIndexByPageID=function(pageID){return _findArrayIndexByProperty(ddo.get('page.pageInfo',[]),'pageID',pageID,true);}
var _findArrayIndexByProperty=function(array,property,value,looseMatch){var properties=property.split('.');var topPropertyName=properties[0];var lowerPropertyName;for(var i=0,len=array.length;i<len;i+=1){var prop=array[i][topPropertyName];for(var j=1,propLen=properties.length;j<propLen;j++){prop=prop[properties[j]];if(!prop)break;}
if(!looseMatch&&prop===value)return i;else if(looseMatch&&typeof value==='string'&&_trim(_toLowerCaseString(prop))===_trim(_toLowerCaseString(value)))return i;else if(looseMatch&&prop==value)return i;}
return-1;}
var _findPageInfoArrayIndexByAssociatedValue=function(value){if(!value)return-1;if(!utag_data.Dynamic_PageView_Element)return-1;var recordDelimiter=',';var value='-_-'+value.toLowerCase()+recordDelimiter;var utagLookupData=utag_data.Dynamic_PageView_Element.toLowerCase();if(utagLookupData.slice(-1)!==recordDelimiter)utagLookupData+=recordDelimiter;var pageID;var associatedValuePosition=utagLookupData.indexOf(value);if(associatedValuePosition>-1){var startPosition=utagLookupData.lastIndexOf(recordDelimiter,associatedValuePosition)+1;pageID=utag_data.Dynamic_PageView_Element.substring(startPosition,associatedValuePosition);}
if(!pageID)return-1;return _findPageInfoArrayIndexByPageID(pageID);}
var _asArray=function(value){if(Array.isArray(value))return value;return[value];}
var _trim=function(s){if(!s)return;if(s.length>=1&&s[0]===segmentWrapperChar)s=s.slice(1);if(s.length>=1&&s[s.length-1]===segmentWrapperChar)s=s.slice(0,-1);return s.trim();}
function _isEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;if(typeof obj!=="object")return true;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))return false;}
return true;}
var _setDefault=function(_property,_default){return(typeof _property==='undefined'||_property===null)?_default:_property;}
var _tld=function(d){d=d||win.location.hostname;var parts=d.split('.').reverse();if(parts.length===1)return parts[0];if(parts.length>2&&parts[1].length<=3){return parts.splice(0,3).reverse().join('.');}
return parts.splice(0,2).reverse().join('.');}
var _deprecationWarning=function(functionName,msg){_log('Deprecation warning: '+functionName+' is deprecated. '+msg,LOG_LEVEL.WARN);}
var _log=function(msg,obj1,severity){if(!severity&&typeof obj1==='number'){severity=obj1;obj1=null;}else if(!severity){severity=1;}
if(_settings.logLevel<=severity&&typeof console!=="undefined"){var logType=LOG_LEVEL_STRINGS[severity];if(typeof logType!="string")logType="log";if(console[logType]){if(obj1){console[logType](msg,obj1);}else{console[logType](msg);}}else if(console.log){if(typeof obj1==='object')msg+='\n'+JSON.stringify(obj1,null,2);console.log(logType.toUpperCase()+": "+msg);}}}
var _timestamp=function(){var e=new Date;return e.getTime()-e.getTimezoneOffset()}
var _listener=function(eventKey,listener){var isListenerQueued=queuedEvents.hasOwnProperty(eventKey);if(isListenerQueued){queuedEvents[eventKey]=queuedEvents[eventKey]||[];queuedEvents[eventKey].forEach(function(info){listener(typeof info!=='undefined'?info:{});});delete queuedEvents[eventKey];}
publishedEvents[eventKey]=publishedEvents[eventKey]||[];var index=publishedEvents[eventKey].push(listener)-1;return{remove:function(){delete publishedEvents[eventKey][index];}}}
var _trigger=function(eventKey,info){var isListenerRegistered=publishedEvents.hasOwnProperty(eventKey);var isListenerQueued=queuedEvents.hasOwnProperty(eventKey);if(!isListenerRegistered){if(isListenerQueued)return;queuedEvents[eventKey]=queuedEvents[eventKey]||[];info=info||{};return queuedEvents[eventKey].push(info);}
if(isListenerQueued)delete queuedEvents[eventKey];publishedEvents[eventKey].forEach(function(listener){listener(typeof info!=='undefined'?info:{});});}
var _dataCollectorHelper=function(dataCollector,listener,listenToPast){this._dataCollector=dataCollector;this._listener=listener||function(){};this._executingListener=false;this._unprocessed=[];var oldPush=dataCollector.push;var that=this;dataCollector.push=function(){var messages=[].slice.call(arguments,0);var result=oldPush.apply(dataCollector,messages);that._processMessages(messages);return result;}
this._processMessages(dataCollector,!listenToPast);}
_dataCollectorHelper.prototype._processMessages=function(messages,skipListener){this._unprocessed.push.apply(this._unprocessed,messages);while(this._executingListener===false&&this._unprocessed.length>0){var update=this._unprocessed.shift();if(!skipListener){this._executingListener=true;this._listener(update);this._executingListener=false;}}}
var ddo={};ddo.get=function(key,defaultValue){if(typeof key!=='string')throw new TypeError('Key must be a dot seperated string.');defaultValue=typeof defaultValue==='undefined'?null:defaultValue;var tree=key.split('.');var base=window.digitalData||{};for(var i=0,len=tree.length;i<len;i++){var propKey=tree[i];var arrInd=propKey.indexOf('[');if(arrInd>-1){var arrPropKey=propKey.substring(0,arrInd);if(!Array.isArray(base[arrPropKey])||base[arrPropKey].length===0)
return defaultValue;var index=propKey.substring(arrInd+1,propKey.length-1);if(isNaN(index))return defaultValue;if(index<0||index>=base[arrPropKey].length)return defaultValue;if(i===len-1)return base[arrPropKey][index];base=base[arrPropKey][index];continue;}
var baseHasProperty=base.hasOwnProperty(propKey);if(baseHasProperty&&i<len-1){base=base[propKey];continue;}
return baseHasProperty?base[propKey]:defaultValue;}}
ddo.set=function(key,value){if(typeof key!=='string')throw new TypeError('Key must be a dot seperated string.');if(typeof value==='undefined')throw new TypeError('A value must be provided.');var tree=key.split('.');var base=window.digitalData||{};for(var i=0,len=tree.length;i<len;i++){var propKey=tree[i];var arrInd=propKey.indexOf('[');if(arrInd>-1){var arrPropKey=propKey.substring(0,arrInd);if(!Array.isArray(base[arrPropKey])&&typeof base[arrPropKey]!=='undefined')
throw new TypeError('You referenced an array index but the property '+
arrPropKey+' is not an array.');var index=parseInt(propKey.substring(arrInd+1,propKey.length-1));if(isNaN(index))throw new TypeError('The array index must be a number.');base[arrPropKey]=base[arrPropKey]||[];var baseLen=base[arrPropKey].length;if(index!==0&&(index<0||index>baseLen))
throw new RangeError('Trying to save to an index outside the range of the array.');if(i===len-1){if(index===baseLen){base[arrPropKey].push(value);return value;}
base[arrPropKey][index]=value;return value;};if(index===baseLen)base[arrPropKey].push({});if(typeof base[arrPropKey][index]!=='object')
throw new TypeError('Cannot write to a non-object property.');base=base[arrPropKey][index];continue;}
if(i===len-1){if(typeof base!=='object')
throw new TypeError('Cannot write to a non-object property.');base[propKey]=value;return value;}
base[propKey]=base[propKey]||{};base=base[propKey];}}
ddo.pageInfo={};ddo.pageInfo.get=function(key,index,defaultValue){return ddo.get('page.pageInfo['+(index||0)+']'+(key?('.'+key):''),defaultValue);}
ddo.pageInfo.set=function(key,value,index){if(typeof value==='undefined'){value=key;key=null;}
return ddo.set('page.pageInfo['+(index||0)+']'+(key?('.'+key):''),value);}
var SudoPromise=function(cb){var self=this,_state=0,_result=null,_deferred=null;self._onResolved=null;self._onRejected=null;var resolve=function(result){if(_state!==0)return;_state=1;_result=result;if(_deferred)self.handle(_deferred);}
var reject=function(reason){if(_state!==0)return;_state=2;_result=reason;if(_deferred)self.handle(_deferred);}
self.handle=function(handler){if(_state===0){_deferred=handler;return;}
if(_state===1){handler.onResolve(_result);_deferred=null;}else if(_state===2&&handler.onRejection){handler.onRejection(_result);_deferred=null;}}
cb(resolve,reject);};SudoPromise.prototype.then=function(onResolve,onRejection){var self=this;if(onResolve)self._onResolved=onResolve;if(onRejection)self._onRejected=onRejection;self.handle({onResolve:self._onResolved,onRejection:self._onRejected});return self;}
SudoPromise.prototype.catch=function(onRejection){this.then(null,onRejection);}
var Ajax=function(){if(!(this instanceof Ajax))return new Ajax();}
Ajax.prototype.xhr=function(opt){return new _ajaxHelpers.Promise(function(resolve,reject){try{var url,params=opt.data||null;if(typeof opt==='string')url=opt;if(!opt)opt={};var method=opt.method||'GET';url=url||opt.url||'';var async=(typeof opt.sync!=='undefined')?!opt.sync:true;if(!url)throw'A URL is required.';var xhr=new XMLHttpRequest();xhr.open(method,url,async,opt.user,opt.password);if(opt.contentType==='json')xhr.setRequestHeader("Content-Type","application/json");if(opt.data&&((!opt.contentType&&typeof opt.data!=='string')||opt.contentType==='json'))params=JSON.stringify(opt.data);if(opt.withCredentials)xhr.withCredentials=true;if(opt.headers){for(key in opt.headers){xhr.setRequestHeader(key,opt.headers[key]);}}
xhr.onerror=function(){reject('Uncaught AJAX error raised. Check the URL.');}
xhr.onload=function(){if(xhr.status===200)resolve(xhr.responseText);else reject('Request failed. Returned status of '+xhr.status);}
xhr.send(params);}catch(e){reject(e);}});}
Ajax.prototype.jsonp=function(url,jsonp,cb){var body=doc.body||doc.getElementsByTagName('body')[0];win[jsonp]=function(data){delete win[jsonp];body.removeChild(script);cb(data);};var script=doc.createElement('script');script.src=url+(url.indexOf('?')>=0?'&':'?')+'callback='+jsonp;body.appendChild(script);}
Ajax.prototype.post=function(url,data,opt){var postOpts={method:'POST',url:url,data:data};polyfills.object.assign(postOpts,opt);return this.xhr(postOpts);}
Ajax.prototype.get=function(url,opt){var getOpts={method:'GET',url:url};polyfills.object.assign(getOpts,opt);return this.xhr(getOpts);}
var _ajaxHelpers={};if(typeof Promise==='function')_ajaxHelpers.Promise=Promise;else _ajaxHelpers.Promise=SudoPromise;var Store=function(key,config){if(!(this instanceof Store))return new Store(key,config);this._config=(config&&typeof config!=='boolean')?config:{};this._key=key;this._store={};if(!config||typeof config==='boolean'){this._config.type=config?'localStorage':'sessionStorage';}
if(key)return this.load(key,config);}
Store.prototype.load=function(key,config){if(typeof key!=='string')return this;this._key=key;config=config||{};if(config.type)this._config.type=_setDefault(config.type,'sessionStorage');var cmdKey=_storeHelpers.cmds[this._config.type];this._helpers=_storeHelpers[cmdKey](this._config);this._store=this._helpers.load(key);return this;}
Store.prototype.all=function(){return this._store;}
Store.prototype.get=function(key){if(typeof key!=='string'||!this._store[key])return null;return this._store[key];}
Store.prototype.set=function(key,value){if(typeof key!=='string'||typeof value==='undefined')return;this._store[key]=value;}
Store.prototype.remove=function(key){if(typeof key!=='string')return;delete this._store[key];}
Store.prototype.save=function(key){var _saveKey=key||this._key;if(typeof _saveKey!=='string'){_log('Invalid storage key provided. Unable to save to '+this._config.type+'.',LOG_LEVEL.WARN);return;};try{this._helpers.save(_saveKey,this._store);if(key)this._key=key;}catch(e){_log('Unable to save to '+this._config.type+'.',LOG_LEVEL.WARN);}}
Store.prototype.clear=function(){this._store={};this.save();}
Store.prototype.delete=function(){try{this._helpers.save(this._key,null);this._store={};}catch(e){_log('Unable to remove '+this._config.type+' item.',LOG_LEVEL.WARN);}}
var _storeHelpers={};_storeHelpers.cmds={'sessionStorage':'storage','localStorage':'storage','sessionCookie':'cookie','cookie':'cookie'}
_storeHelpers.cookie=function(config){var _cookieName='bactm',_cookieConfig={domain:_tld()};config=config||{};if(config.type&&typeof config.type==='string'&&config.type.indexOf('session')===-1){_cookieName='bactm_lts';_cookieConfig['expires']=365;}
var _cookies=new Cookies(),_bactmCookie=_cookies.getJSON(_cookieName)||{};var _load=function(key){return _bactmCookie[key]||{};}
var _save=function(key,value){_cookies._refresh();if(value===null)delete _bactmCookie[key];else _bactmCookie[key]=value;_cookies.set(_cookieName,_bactmCookie,_cookieConfig);}
return{load:_load,save:_save}}
_storeHelpers.storage=function(config){var _storage=window[config.type];var _load=function(key){var _data;try{_data=JSON.parse(_storage.getItem(storageKeyPrefix+key));}catch(e){console.log('Unable to read from '+config.type+'.');}
return _data||{};}
var _save=function(key,value){var _storageKey=storageKeyPrefix+key;if(value===null)_storage.removeItem(_storageKey);else _storage.setItem(_storageKey,JSON.stringify(value));}
return{load:_load,save:_save}}
var Cookies=function(){if(!(this instanceof Cookies))return new Cookies();var self=this;self._refresh=function(){self._cookies=doc.cookie?doc.cookie.split('; '):[];self._cookieCache={};}
self._refresh();}
Cookies.prototype.set=function(key,value,options){if(!key)return;var options=options||{};options['path']=options.path||'/';if(typeof options.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+options.expires*864e+5);options.expires=expires;}else if(typeof options.expires==='string'){try{var expires=new Date(Date.parse(options.expires));options.expires=expires;}catch(e){delete options.expires;}}
options.expires=options.expires?options.expires.toUTCString():'';var rawKey=key;key=encodeURIComponent(String(key));try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=encodeURIComponent(result);}}catch(e){}
var stringifiedAttributes='';for(var attributeName in options){if(!options[attributeName]){continue;}
stringifiedAttributes+='; '+attributeName;if(options[attributeName]===true){continue;}
stringifiedAttributes+='='+options[attributeName];}
this._cookieCache[rawKey]=value;return(doc.cookie=key+'='+value+stringifiedAttributes);}
Cookies.prototype.get=function(key,options){var result,options=options||{},rdecode=/(%[0-9A-Z]{2})+/g;if(!key||options.bustCache)this._refresh();if(this._cookieCache[key])return this._cookieCache[key];if(!key)result={};for(var i=0;i<this._cookies.length;i++){var parts=this._cookies[i].split('='),cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1);}
try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=cookie.replace(rdecode,decodeURIComponent);if(options.json){try{cookie=JSON.parse(decodeURIComponent(cookie));}catch(e){}}
if(key===name){result=cookie;this._cookieCache[name]=cookie;break;}
if(!key){result[name]=cookie;this._cookieCache[name]=cookie;}}catch(e){}}
return result;}
Cookies.prototype.getJSON=function(key){return this.get(key,{bustCache:true,json:true});}
Cookies.prototype.remove=function(key){if(this._cookieCache[key])delete this._cookieCache[key];this.set(key,'',{expires:-1});}
var QueryString=function(uri){if(!(this instanceof QueryString))return new QueryString(uri);if(!uri&&uri!=='')uri=window.location.href;var startIndex=uri.indexOf('?'),endIndex=uri.indexOf('#'),start=startIndex>-1?startIndex+1:0,end=endIndex>-1?endIndex:uri.length,parts=uri.substring(start,end).split('&'),package={};if(startIndex>-1){for(var i=0,len=parts.length;i<len;i++){var thisOne=parts[i].split('='),name=thisOne[0],value=thisOne.length>1?thisOne[1]:'';package[name]=value;}}
this._cache=package;}
QueryString.prototype.get=function(key){return this._cache[key];}
QueryString.prototype.set=function(key,value){if(!key)return;this._cache[key]=value;}
QueryString.prototype.load=function(keyVal){if(typeof keyVal!=='object')return;for(key in keyVal){if(keyVal.hasOwnProperty(key))this.set(key,keyVal[key]);}}
QueryString.prototype.toString=function(){var builder=[];for(key in this._cache){if(this._cache.hasOwnProperty(key)){builder.push(key+'='+encodeURIComponent(this._cache[key]));}}
return builder.join('&');}
var PixelTag=function(url,id){if(!url)return;if(!(this instanceof PixelTag))return new PixelTag(url);var img=doc.createElement('img');img.src=url;img.style='display:none;';img.width=0;img.style.width=0;img.height=0;img.style.height=0;img.alt="Marketing Pixel";img.setAttribute('aria-hidden',true);if(typeof id==='string')img.id=id;this._img=img;}
PixelTag.prototype.appendTo=function(parent){if(!parent.appendChild)return;parent.appendChild(this._img);}
PixelTag.prototype.appendToBody=function(){var body=doc.body||doc.getElementsByTagName('body')[0];this.appendTo(body);}
var polyfills={object:{},array:{},string:{}};polyfills.object.assign=Object.assign;if(typeof polyfills.object.assign!='function'){polyfills.object.assign=function(target,varArgs){'use strict';if(target==null){throw new TypeError('Cannot convert undefined or null to object');}
var to=Object(target);for(var index=1;index<arguments.length;index++){var nextSource=arguments[index];if(nextSource!=null){for(var nextKey in nextSource){if(Object.prototype.hasOwnProperty.call(nextSource,nextKey)){to[nextKey]=nextSource[nextKey];}}}}
return to;};}
polyfills.array.find=function(ourArray,predicate){if(ourArray.find)return ourArray.find(predicate);if(ourArray==null){throw new TypeError('array.find called on null or undefined');}
if(typeof predicate!=='function'){throw new TypeError('predicate must be a function');}
var list=Object(ourArray);var length=list.length>>>0;var thisArg=arguments[1];var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list)){return value;}}
return undefined;}
polyfills.array.map=function(arr,fun){if(arr.map)return arr.map(fun);if(arr===void 0||arr===null){throw new TypeError();}
var t=Object(arr);var len=t.length>>>0;if(typeof fun!=='function'){throw new TypeError();}
var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t);}}
return res;}
polyfills.array.from=function(arrayLike){if(Array.from)return Array.from(arrayLike);var toStr=Object.prototype.toString;var maxSafeInteger=Math.pow(2,53)-1;var items=Object(arrayLike);var C=this;var T;var isCallable=function(fn){return typeof fn==='function'||toStr.call(fn)==='[object Function]';};var toInteger=function(value){var number=Number(value);if(isNaN(number))return 0;if(number===0||!isFinite(number))return number;return(number>0?1:-1)*Math.floor(Math.abs(number));};var toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger);};if(arrayLike==null){throw new TypeError('Array.from requires an array-like object - not null or undefined');}
var mapFn=arguments.length>1?arguments[1]:void undefined;if(typeof mapFn!=='undefined'){if(!isCallable(mapFn)){throw new TypeError('Array.from: when provided, the second argument must be a function');}
if(arguments.length>2){T=arguments[2];}}
var len=toLength(items.length);var A=isCallable(C)?Object(new C(len)):new Array(len);var k=0;var kValue;while(k<len){kValue=items[k];if(mapFn){A[k]=typeof T==='undefined'?mapFn(kValue,k):mapFn.call(T,kValue,k);}else{A[k]=kValue;}
k+=1;}
A.length=len;return A;}
polyfills.string.includes=function(haystack,search,start){if(typeof start!=='number')start=0;if(haystack.includes)return haystack.includes(search,start);return(start+search.length>haystack.length)?false:haystack.indexOf(search,start)!==-1;}
var _raiseCustomEvent=function(eventKey,details){_pushToDataCollector({event:'customEvent',eventKey:eventKey,options:details});}
var _getBaseUrl=function(){if(doc.baseURI)return doc.baseURI;var pathArray=location.href.split('/'),protocol=pathArray[0],host=pathArray[2],url=protocol+'//'+host+'/';return url;}
var _getBeaconUrl=function(){var base=_getBaseUrl(),splunkLogTransportUrl=env==='prod'||base.indexOf('localhost')>-1?'https://www.bankofamerica.com/content/images/ContextualSiteGraphics/bactm/bactm-transport.gif':base+'content/images/ContextualSiteGraphics/bactm/bactm-transport.gif',baseUrl=splunkLogTransportUrl+'?d=',q=[];for(var i=0,len=logQ.length;i<len;i++){var d=[];if(!Array.isArray(logQ[i]||typeof logQ[i]==='object')){for(var key in logQ[i]){d.push(encodeURIComponent(key)+'~'+encodeURIComponent(logQ[i][key]));}}
if(d.length>0)q.push(d.join('~~'));}
if(q.length>0)return baseUrl+q.join('-_-');else return baseUrl;}
var _sendLogBeacon=function(){if(logQ.length>0){var _url=_getBeaconUrl();if(navigator&&typeof navigator.sendBeacon==='function'){navigator.sendBeacon(_url);}else{var client=new XMLHttpRequest();client.open("POST",_url,false);client.setRequestHeader("Content-Type","text/plain;charset=UTF-8");client.send();}}}
var _beginDataCollection=function(pageInfoArrayIndex){_deprecationWarning('bactm_beginDataCollection','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageview(pageInfoArrayIndex);}
var _capturePageview=function(pageInfoArrayIndex){_deprecationWarning('bactm_capturePageview','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageview(pageInfoArrayIndex);}
var _bactmProductView=function(){_deprecationWarning('bactm_productView','Consider using bactm.productview() instead.');productview();}
var _captureAdditionalPageview=function(pageInfoArrayIndex,useSecondaryCategory,segments){_deprecationWarning('bactm_captureAddlPageview','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var options={};options['categoryType']=!useSecondaryCategory?'primary':'additional';if(segments)options['segments']=segments;pageview(pageInfoArrayIndex,options);}
var _captureDynamicPageview=function(associatedValue){_deprecationWarning('bactm_captureDynamicPageview','Consider using bactm.pageview(associatedValue, { lookupType: \'associatedValue\' }) instead.');pageview(associatedValue,{lookupType:'associatedValue'});}
var _loadDataCollection=function(){_deprecationWarning('bactm_loadDataCollection','Data collection libraries are now loaded asynchronously via tag manager.');}
var _cmCreateManualLinkClickTag=function(href,id,pageID){_deprecationWarning('cmCreateManualLinkClickTag','Consider using bactm.manualLinkClick() instead.');manualLinkClick(href,id);}
var _cmCreateCustomError=function(pageID,appName,appStepNumber,appStepName,errorCode,categoryID,errorMessage){_deprecationWarning('cmCreateCustomError','Consider using bactm.customError() instead.');if(typeof bactm_cmCreateCustomError==='function'){try{bactm_cmCreateCustomError(pageID,appName,appStepNumber,appStepName,errorCode,categoryID,errorMessage);}catch(e){_log(e,LOG_LEVEL.ERROR);}}}
var _cmCreateImpressionTag=function(_pi,_SP,_RE){_deprecationWarning('cmCreateImpressionTag');if(typeof bactm_cmCreateImpressionTag==='function'){try{bactm_cmCreateImpressionTag(_pi,_SP,_RE);}catch(e){_log(e,LOG_LEVEL.ERROR);}}}
var _bactmAddProducts=function(productID,productName,productCategory){_deprecationWarning('bactm_addProducts','Consider using bactm.addProducts() instead.');var product={'productID':productID,'productName':productName,'productCategory':productCategory};addProducts([product]);}
var _bactmAddSegmentationValues=function(segmentValues,pageInfoArrayIndex){_deprecationWarning('bactm_addSegmentationValues','Consider using bactm.addManySegmentValues() or pageview() instead.');addManySegmentValues(segmentValues,pageInfoArrayIndex);if((typeof utag_data!=='undefined'&&_toLowerCaseString(utag_data.cm_Segmentation_Value)==="true")||_toLowerCaseString(ddo.get('disable_pageviewonload'))==='true'){pageview(pageInfoArrayIndex);}}
var pageview=function(pageInfoKey,options){_log('Pageview event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'pageview','pageInfoKey':pageInfoKey,'options':options});}
var productview=function(){_log('Productview event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'productview'});}
var cartView=function(){_log('CartView event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'cartview'});}
var productsPurchased=function(){_log('ProductsPurchased event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'productsPurchased'});}
var conversion=function(conversion){_log('Conversion event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'conversion','eventName':conversion.eventName,'actionType':conversion.actionType,'category':conversion.category});}
var addProducts=_addProducts;var addProductsToCart=_addProductsToCart;var addSegmentValue=_setSegmentValue;var addManySegmentValues=function(segmentValues,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;if(!Array.isArray(segmentValues))segmentValues=[segmentValues];for(var i=0,segmentsLen=segmentValues.length;i<segmentsLen;i++){var segment=_getSegmentKeyValue(_trim(segmentValues[i]));addSegmentValue(segment.key,segment.value,pageInfoArrayIndex);}}
var customError=function(errorCode,errorMessage){var eventInfo={'event':'customError','errorCode':errorCode,'errorMessage':errorMessage};_pushToDataCollector(eventInfo);}
var manualLinkClick=function(href,linkname){var eventInfo={'event':'manualLinkClick','href':href,'linkname':linkname};_pushToDataCollector(eventInfo);}
var revertToPrevPageID=function(pageInfoArrayIndex){if(typeof cG7==='undefined'){_log('cG7 is undefined. Unable to call revertToPrevPageID() until Coremetrics libraries are ready.',LOG_LEVEL.WARN);}else{_revertToPreviousPageID(pageInfoArrayIndex);}}
var rescanDOM=function(){_rescanDOM();}
var log=function(data){var eventInfo={'event':'log','data':data};var _timestamp=function(){var e=new Date;return e.getTime()-e.getTimezoneOffset()}
if(!Array.isArray(data)&&typeof data==='object'&&!('ts'in data))data.ts=_timestamp();_pushToDataCollector(eventInfo);}
if(doc.readyState==="complete"||(doc.readyState!=="loading"&&!doc.documentElement.doScroll)){_onDomReady();}else{doc.addEventListener("DOMContentLoaded",_domLoadComplete);}
var core={'env':env,'plugins':plugins,'ready':_ready,'on':_listener,'trigger':_trigger,'Store':Store,'Cookies':Cookies,'PixelTag':PixelTag,'Ajax':Ajax,'QueryString':QueryString,'SudoPromise':SudoPromise,'customEvent':_raiseCustomEvent,'ddo':ddo,'polyfills':polyfills,'log':log
,'_getPageInfo':_getPageInfo,'_isValidPageInfoArrayIndex':_isValidPageInfoArrayIndex,'_log':_log,'_readCookie':_readCookie,'_asArray':_asArray,'_sendLogBeacon':_sendLogBeacon}
if(!loadCoremetrics){_init();return core;}
var bactm={'pageview':pageview,'addManySegmentValues':addManySegmentValues,'addProducts':addProducts,'addProductsToCart':addProductsToCart,'addSegmentValue':addSegmentValue,'cartView':cartView,'conversion':conversion,'customError':customError,'manualLinkClick':manualLinkClick,'rescanDOM':rescanDOM,'productsPurchased':productsPurchased,'productview':productview,'revertToPrevPageID':revertToPrevPageID,'impressions':_impressions}
for(var key in core){if(core.hasOwnProperty(key))bactm[key]=core[key];}
win['cm_NormalizeList']='sessionid=;pageID=;accessToken=;token=;adx=;features=;request_locale=;deviceCode=;phoneNumber=;emailAddress=;callback=;divId=;qry=;tid=;dropdown-loan=;gclid=;currencyInputField=;rq=;searchText=;';win['bactm_evtSel']=1;win['bactm_addSegmentationValues']=_bactmAddSegmentationValues;win['bactm_setDD']=_setCoremetricsEnvironment;win['bactm_beginDataCollection']=_beginDataCollection;win['bactm_capturePageview']=_capturePageview;win['bactm_captureAddlPageview']=_captureAdditionalPageview;win['bactm_captureDynamicPageview']=_captureDynamicPageview;win['bactm_loadDataCollection']=_loadDataCollection;win['bactm_addProducts']=_bactmAddProducts;win['bactm_captureCustomError']=customError;win['bactm_createManualLinkClickTag']=manualLinkClick;win['bactm_restorePageID']=revertToPrevPageID;win['bactm_productView']=_bactmProductView;if(typeof win['cmCreateManualLinkClickTag']!=='function'){win['cmCreateManualLinkClickTag']=_cmCreateManualLinkClickTag;}
if(typeof win['cmCreateCustomError']!=='function'){win['cmCreateCustomError']=_cmCreateCustomError;}
if(typeof win['cmCreateImpressionTag']!=='function'){win['cmCreateImpressionTag']=_cmCreateImpressionTag;}
_init();return bactm;});}catch(e){};if(!utag_condload){try{try{var ignore_keys=[];var prefix="";var nested_delimeter=".";var data_layer="digitalData";var tealium_object="utag_data";if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};}());}
window[tealium_object]=window[tealium_object]||{};function ignoreKey(key){var should_ignore_key=0;for(var k=0;k<ignore_keys.length;k++){var re=new RegExp("^"+ignore_keys[k]);if(key.match(re)){should_ignore_key=1;try{console.log('Ignoring key: '+key);}catch(e){}}}
return should_ignore_key;}
function processDataObject(obj,parent_key){if(typeof parent_key==="undefined"){parent_key="";}else{parent_key+=""+nested_delimeter;}
Object.keys(obj).forEach(function(key){var nested_key_name=parent_key+key;var new_key_name=prefix+parent_key+key;if(typeof obj[key]!=='undefined'&&obj[key]!=null){if((typeof obj[key]).match(/boolean|string|number/)&&!ignoreKey(key)){window[tealium_object][new_key_name]=""+obj[key];}else if(obj[key].constructor===Object&&!ignoreKey(key)){processDataObject(obj[key],nested_key_name);}else if(obj[key].constructor===Array){processDataArray(obj[key],nested_key_name);}}});}
function processDataArray(obj,parent_key){if(typeof parent_key==="undefined"){parent_key="";}else{parent_key+=""+nested_delimeter;}
var new_key_name=prefix+parent_key;for(var n=0;n<obj.length;n++){if((typeof obj[n]).match(/boolean|string|number/)){if(typeof window[tealium_object][new_key_name]==="undefined"){window[tealium_object][new_key_name]=[];}
window[tealium_object][new_key_name].push(""+obj[n]);}else if(obj[n].constructor===Object){Object.keys(obj[n]).forEach(function(array_key){var new_obj=obj[n];array_key_name=new_key_name+array_key;if(typeof new_obj[array_key]!=='undefined'&&new_obj[array_key]!=null){if((typeof new_obj[array_key]).match(/boolean|string|number/)&&!ignoreKey(array_key)){if(typeof window[tealium_object][array_key_name]==="undefined"){window[tealium_object][array_key_name]=[];}
window[tealium_object][array_key_name].push(""+new_obj[array_key]);}else if(new_obj[array_key].constructor===Array){processDataArray(new_obj[array_key],array_key_name);}}});}}}
if(typeof window[data_layer]!=='undefined'){if(window[data_layer].constructor===Array){for(var i=0;i<window[data_layer].length;i++){processDataObject(window[data_layer][i]);}}else{processDataObject(window[data_layer]);}}else{try{console.log('Error "'+data_layer+'" doesn\'t exist on the page');}catch(e){}}}catch(e){try{console.log('Error trying to convert data layer: '+e);}catch(e){}}}catch(e){}};if(!utag_condload){try{try{(function(){var tcSessionCookieName='inqSession_10004750';var isActiveTouchCommerceChat=function(){var cookies=document.cookie,start=cookies.indexOf(tcSessionCookieName+'='),end=cookies.indexOf(';',start),realEnd=start>0&&end?end:cookieWithChat.length,cookie=cookies.substring(start,realEnd),value=decodeURIComponent(cookie.substring(cookie.indexOf('=')+1));try{var v=eval('('+value+')');}catch(e){}
if(v&&v.chat&&v.chat.id)return true;return false;}
window.bactm_isChatActive=isActiveTouchCommerceChat();})();}catch(e){utag.DB(e)}}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"bofa.main",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_bofa.main_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(a,b,c,d,f){try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(utag.data['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0}}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}}}}}}catch(e){utag.DB(e)}},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=eval("document."+"referrer");o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=b||utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}
o["_t_visitor_id"]=o["cp.utag_main_v_id"];o["_t_session_id"]=o["cp.utag_main_ses_id"];},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;o["ut.event"]=a||"view";try{o["ut.account"]=utag.cfg.utid.split("/")[0];o["ut.profile"]=utag.cfg.utid.split("/")[1];o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}},RD:function(o,a,b,c,d){utag.DB("utag.loader.RD");utag.DB(o);if(!utag.loader.rd_flag){a=(new Date()).getTime();b=utag.loader.RC();c=a+parseInt(utag.cfg.session_timeout);d=a;if(!b.utag_main){b.utag_main={};}else if(b.utag_main.ses_id&&typeof b.utag_main._st!="undefined"&&parseInt(b.utag_main._st)<a){delete b.utag_main.ses_id;}
if(!b.utag_main.v_id){b.utag_main.v_id=utag.ut.vi(a);}
if(!b.utag_main.ses_id){b.utag_main.ses_id=d+'';b.utag_main._ss=b.utag_main._pn=1;b.utag_main._sn=1+parseInt(b.utag_main._sn||0);}else{d=b.utag_main.ses_id;b.utag_main._ss=0;b.utag_main._pn=1+parseInt(b.utag_main._pn);b.utag_main._sn=parseInt(b.utag_main._sn);}
if(isNaN(b.utag_main._sn)||b.utag_main._sn<1){b.utag_main._sn=b.utag_main._pn=1}
b.utag_main._st=c+'';utag.loader.SC("utag_main",{"v_id":b.utag_main.v_id,"_sn":b.utag_main._sn,"_ss":b.utag_main._ss,"_pn":b.utag_main._pn+";exp-session","_st":c,"ses_id":d+";exp-session"});}
utag.loader.rd_flag=1;this.RDqp(o);this.RDmeta(o);this.RDcp(o,b);this.RDdom(o);this.RDut(o);this.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=".tiqcdn.com";w=utag.cfg.path.indexOf(v);if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:utag.cfg.path.substring(0,w)+v+"/ut"+"ag/tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){utag.db_log=[];b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a,cfg:{cb:c,uids:d}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(utag.data);utag.loader.loadrules();utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.cfg.noview=false;utag.ut.merge(b,this.df,0);utag.loader.RDqp(b);utag.loader.RDcp(b);utag.loader.RDdom(b);utag.loader.RDmeta(b);utag.loader.RDut(b,a);utag.loader.RDva(b);function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];sendTag(a,b,d);}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");utag.ut.merge(utag.data,b,1);this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");utag.loader.SC("utag_main",{"_st":((new Date()).getTime()+parseInt(utag.cfg.session_timeout))});},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l){a=document;if(o.type=="iframe"){b=a.createElement("iframe");o.attrs=o.attrs||{"height":"1","width":"1","style":"display:none"};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();b.src=o.src;return;}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";for(l in utag.loader.GV(o.attrs)){b[l]=o.attrs[l]}
b.src=o.src;}
if(o.id){b.id=o.id};if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}};utag.o['bofa.main']=utag;utag.cfg={template:"ut4.39.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),path:"//tags.tiqcdn.com/utag/bofa/main/prod/",utid:"bofa/main/201808171818"};utag.cfg.v=utag.cfg.template+"201808201735";utag.cond={10:0,12:0,14:0,16:0,17:0,18:0,19:0,20:0,21:0,24:0,25:0,26:0,30:0,31:0,32:0,33:0,34:0,37:0,38:0,39:0,40:0,41:0,44:0,4:0,5:0,8:0,9:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.digitalData.page.pageInfo[0].pageID']=digitalData.page.pageInfo[0].pageID}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_opinionlabs']=digitalData.load_opinionlabs}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_touchcommerce']=digitalData.load_touchcommerce}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_audiencemanager']=digitalData.load_audiencemanager}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.attributes.gaId']=digitalData.page.attributes.gaId}catch(e){utag.DB(e)};try{ud['js_page.window.touchCommerceEnabled']=window.touchCommerceEnabled}catch(e){utag.DB(e)};try{ud['js_page.load_dataCollection']=load_dataCollection}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_coremetrics']=digitalData.load_coremetrics}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.pageInfo[0].appName']=digitalData.page.pageInfo[0].appName}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_cobrowse']=digitalData.load_cobrowse}catch(e){utag.DB(e)};try{ud['js_page.window.oldLiveLook']=window.oldLiveLook}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_adobetarget']=digitalData.load_adobetarget}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_convertro']=digitalData.load_convertro}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_mboxcreate']=digitalData.load_mboxcreate}catch(e){utag.DB(e)};try{ud['js_page.window.bactm_isChatActive']=window.bactm_isChatActive}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_trusteer']=digitalData.load_trusteer}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.category.primaryCategory']=digitalData.page.category.primaryCategory}catch(e){utag.DB(e)};try{ud['js_page.CurrentPageID']=CurrentPageID}catch(e){utag.DB(e)};try{ud['js_page.digitalData.page.attributes.chat.boldchatAuth']=digitalData.page.attributes.chat.boldchatAuth}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'10':try{c[10]|=(d['Load_LegacyOpinionLabs']=='false'&&d['js_page.digitalData.load_opinionlabs'].toString().toLowerCase()!='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'12':try{c[12]|=(typeof d['page.attributes.standardDART.']!='undefined'&&d['page.attributes.standardDART.']!='')||(d['dom.query_string'].toString().toLowerCase().indexOf('disableDart'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'14':try{c[14]|=(typeof d['conversion_event_interaction_element']!='undefined'&&d['conversion_event_interaction_element']!='')}catch(e){utag.DB(e)};break;case'16':try{c[16]|=(d['Load_ME_EnterpriseTagging']=='true')}catch(e){utag.DB(e)};break;case'17':try{c[17]|=(typeof d['Load_TT_Logging']!='undefined'&&d['Load_TT_Logging'].toString().toLowerCase().indexOf('true'.toLowerCase())>-1)}catch(e){utag.DB(e)};break;case'18':try{c[18]|=(typeof d['js_page.digitalData.load_audiencemanager']=='undefined')||(d['js_page.digitalData.load_audiencemanager'].toString().toLowerCase().indexOf('false'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'19':try{c[19]|=(typeof d['js_page.digitalData.load_touchcommerce']=='undefined'&&d['disableChatIfNotActive']!='true')||(typeof d['js_page.digitalData.load_touchcommerce']=='undefined'&&d['disableChatIfNotActive'].toString().toLowerCase()=='true'.toLowerCase()&&d['js_page.window.bactm_isChatActive'].toString().toLowerCase()=='true'.toLowerCase())||(d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='false'.toLowerCase()&&d['disableChatIfNotActive']!='true')||(d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='false'.toLowerCase()&&d['disableChatIfNotActive'].toString().toLowerCase()=='true'.toLowerCase()&&d['js_page.window.bactm_isChatActive'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'20':try{c[20]|=(typeof d['js_page.digitalData.page.attributes.gaId']!='undefined'&&d['js_page.digitalData.page.attributes.gaId']!='')}catch(e){utag.DB(e)};break;case'21':try{c[21]|=(typeof d['Dynamic_PageView_Element']!='undefined'&&d['Dynamic_PageView_Element']!='')}catch(e){utag.DB(e)};break;case'24':try{c[24]|=(typeof d['js_page.digitalData.load_coremetrics']=='undefined')||(d['js_page.digitalData.load_coremetrics'].toString().toLowerCase()!='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'25':try{c[25]|=(d['Load_getCoremetricsIdPlugin'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'26':try{c[26]|=(typeof d['js_page.digitalData.load_cobrowse']!='undefined'&&d['js_page.digitalData.load_cobrowse'].toString().toLowerCase()!='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'30':try{c[30]|=(typeof d['js_page.digitalData.load_mboxcreate']=='undefined')||(d['js_page.digitalData.load_mboxcreate'].toString().toLowerCase()!='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'31':try{c[31]|=(d['js_page.digitalData.page.pageInfo[0].pageID'].toString().toLowerCase()=='homepage:Content;home_personal'.toLowerCase())}catch(e){utag.DB(e)};break;case'32':try{c[32]|=(typeof d['js_page.digitalData.load_trusteer']!='undefined'&&d['js_page.digitalData.load_trusteer'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'33':try{c[33]|=(d['load_convergys'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'34':try{c[34]|=(d['js_page.digitalData.page.pageInfo[0].pageID'].toString().toLowerCase()=='homepage:Content:Personal;homepage_personal'.toLowerCase())||(d['js_page.digitalData.page.pageInfo[0].pageID'].toString().toLowerCase()=='homepage:Content:smbus;homepage_smbus'.toLowerCase())||(d['js_page.digitalData.page.pageInfo[0].pageID'].toString().toLowerCase()=='homepage:Content:smbus;smbus_homepage'.toLowerCase())}catch(e){utag.DB(e)};break;case'37':try{c[37]|=(typeof d['qp.wrap']!='undefined'&&d['qp.wrap'].toString().toLowerCase().indexOf('mda'.toLowerCase())<0)||(typeof d['qp.wrap']=='undefined')}catch(e){utag.DB(e)};break;case'38':try{c[38]|=(d['dom.query_string'].toString().toLowerCase().indexOf('celebrus=false'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'39':try{c[39]|=(typeof d['js_page.digitalData.page.attributes.chat.boldchatAuth']!='undefined')}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(d['load_TC_Logging']=='true')}catch(e){utag.DB(e)};break;case'40':try{c[40]|=(d['js_page.digitalData.page.pageInfo[0].pageID'].toString().toLowerCase()=='homepage:Content:Personal;homepage_personal'.toLowerCase())}catch(e){utag.DB(e)};break;case'41':try{c[41]|=(d['privacy.do_not_track'].toString().toLowerCase()!='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'44':try{c[44]|=(/^DFS/i.test(d['js_page.digitalData.page.category.primaryCategory']))}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(d['Load_ProductView']=='true')}catch(e){utag.DB(e)};break;case'8':try{c[8]|=(typeof d['manual_link_click_element']!='undefined'&&d['manual_link_click_element']!='')}catch(e){utag.DB(e)};break;case'9':try{c[9]|=(d['Load_LegacyOpinionLabs']=='true')}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(utag.data['qp.utagdb']){if(utag.data['qp.utagdb'].match(/1|true/i)){document.cookie='utagdb=true';utag.data['cp.utagdb']='true';utag.cfg.utagdb=true;}else{document.cookie='utagdb=false';utag.data['cp.utagdb']='false';utag.cfg.utagdb=false;}}
}catch(e){utag.DB('Tealium Debugging Tools Failed: '+e);}},function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','clickCapture',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='1.0.0',ddo=win.digitalData,clickEventListenerAdded=false,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};if(!ddo)return;var _documentClickEventHandler=function(e){var info={e:e,path:_getEventPath(e)}
ba.trigger('documentClicked',info);var clickedAnchor=ba.polyfills.array.find(info.path,function(el){return el.tagName==='A';});if(clickedAnchor){info.clickedAnchor=clickedAnchor;ba.trigger('anchorClicked',info);if(clickedAnchor.href.indexOf('cm_sp')>-1){info.sitePromotion=new ba.QueryString(clickedAnchor.href).get('cm_sp');ba.trigger('sitePromotionClicked',info);}}}
var _addDocumentClickEventListener=function(){ba._log('Creating global click event listener.',LOG_LEVEL.DEBUG);if(!clickEventListenerAdded){doc.addEventListener('click',_documentClickEventHandler,true);clickEventListenerAdded=true;}}
var _getEventPath=function(event){var path=[];var target=event.target;while(target.parentNode){path.push(target);target=target.parentNode;}
return path;}
var _init=function(){ba._log('bactm.plugin.clickCapture v'+version+' initializing.',LOG_LEVEL.INFO);ba.ready(_addDocumentClickEventListener);}
_init();return{version:version};});}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['page.pageInfo.pageID'];if(typeof d=='undefined')return;c=[{'OSP:Content:OLB;feature-gallery':'true'},{'Dep:Tool:ManageYourMoney;savings-goal-calculator':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['load_TC_Logging']=c[e][f];m=true};};if(m)break};if(!m)b['load_TC_Logging']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'DFS:Content:Auto:Secure;auto-loans-financing':'true'},{'HL:Content:Overview;Auth_Rates':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['cm_Segmentation_Value']=c[e][f];m=true};};if(m)break};if(!m)b['cm_Segmentation_Value']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'cards:Prod:Credit_Cards;overview':'rewards-_-What_type_of_credit_card_are_you_looking_for|lowerRates-_-What_type_of_credit_card_are_you_looking_for|student-_-What_type_of_credit_card_are_you_looking_for|buildingCredit-_-What_type_of_credit_card_are_you_looking_for|cash-_-What_type_of_credit_card_rewards_are_you_interested_in|travel-_-What_type_of_credit_card_rewards_are_you_interested_in|points-_-What_type_of_credit_card_rewards_are_you_interested_in|mostPopularCash-_-Which_type_of_cash_rewards_most_interests_you|charitable-_-Which_type_of_cash_rewards_most_interests_you|patriotic-_-Which_type_of_cash_rewards_most_interests_you|sports-_-Which_type_of_cash_rewards_most_interests_you|mostPopularTravel-_-What_type_of_travel_rewards_most_interests_you|airline-_-What_type_of_travel_rewards_most_interests_you|cruise-_-What_type_of_travel_rewards_most_interests_you|otherTravel-_-What_type_of_travel_rewards_most_interests_you|mostPopularPoints-_-What_type_of_points_rewards_most_interests_you|retail-_-What_type_of_points_rewards_most_interests_you|lowerIntrestRates-_-What_type_of_lower_interest_rate_credit_card_most_interests_you|lowerRatesRewards-_-What_type_of_lower_interest_rate_credit_card_most_interests_you|cashRewardsStudent-_-What_type_of_credit_card_most_interests_you|travelRewardsStudent-_-What_type_of_credit_card_most_interests_you|LowIntrestStudent-_-What_type_of_credit_card_most_interests_you|newCredit-_-Which_statement_best_describes_your_experience_with_credit_cards|rebuildingCredit-_-Which_statement_best_describes_your_experience_with_credit_cards'},{'cards:Prod:Credit_Cards;credit-card-finder':'rewards-_-What_type_of_credit_card_are_you_looking_for|lowerRates-_-What_type_of_credit_card_are_you_looking_for|student-_-What_type_of_credit_card_are_you_looking_for|buildingCredit-_-What_type_of_credit_card_are_you_looking_for|cash-_-What_type_of_credit_card_rewards_are_you_interested_in|travel-_-What_type_of_credit_card_rewards_are_you_interested_in|points-_-What_type_of_credit_card_rewards_are_you_interested_in|mostPopularCash-_-Which_type_of_cash_rewards_most_interests_you|charitable-_-Which_type_of_cash_rewards_most_interests_you|patriotic-_-Which_type_of_cash_rewards_most_interests_you|sports-_-Which_type_of_cash_rewards_most_interests_you|mostPopularTravel-_-What_type_of_travel_rewards_most_interests_you|airline-_-What_type_of_travel_rewards_most_interests_you|cruise-_-What_type_of_travel_rewards_most_interests_you|otherTravel-_-What_type_of_travel_rewards_most_interests_you|mostPopularPoints-_-What_type_of_points_rewards_most_interests_you|retail-_-What_type_of_points_rewards_most_interests_you|lowerIntrestRates-_-What_type_of_lower_interest_rate_credit_card_most_interests_you|lowerRatesRewards-_-What_type_of_lower_interest_rate_credit_card_most_interests_you|cashRewardsStudent-_-What_type_of_credit_card_most_interests_you|travelRewardsStudent-_-What_type_of_credit_card_most_interests_you|LowIntrestStudent-_-What_type_of_credit_card_most_interests_you|newCredit-_-Which_statement_best_describes_your_experience_with_credit_cards|rebuildingCredit-_-Which_statement_best_describes_your_experience_with_credit_cards'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['conversion_event_interaction_element']=c[e][f];m=true};};if(m)break};if(!m)b['conversion_event_interaction_element']='';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'Testing;Tester':'btn2-_-btn2href-_-btn2name|btn1-_-btn1href-_-btn1name'},{'Dep:Prod:Card_Details;Sam-Test-Page-1':'mobileDevice-_-http://www.yahoo.com-_-iphone'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['manual_link_click_element']=c[e][f];m=true};};if(m)break};if(!m)b['manual_link_click_element']='';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'DFS:Prod:Auto;auto-loans-financing':'TRUE'},{'DFS:Prod:Auto;auto-loan-rates':'TRUE'},{'DFS:Prod:Auto;auto-refinance-loan':'TRUE'},{'DFS:Tool:Auto:Calc;auto-loan-calculator':'TRUE'},{'DFS:Tool:Auto:Calc;auto-refinance-calculator':'TRUE'},{'DFS:Content:Auto;disability-access-loans':'TRUE'},{'DFS:Content:Auto;how-car-loans-work':'TRUE'},{'DFS:Content:Auto;buying-your-first-car':'TRUE'},{'DFS:Content:Auto;financing-a-car':'TRUE'},{'DFS:Content:Auto;when-to-refinance-a-car':'TRUE'},{'DFS:Content:Auto;car-buying-process':'TRUE'},{'DFS:Content:Auto;buying-new-or-used-cars':'TRUE'},{'DFS:Content:Auto;what-to-know-when-buying-car':'TRUE'},{'DFS:Content:Auto:FAQ;auto-loan-faqs':'TRUE'},{'DFS:Prod:Auto:Secure;auto-loans-financing':'TRUE'},{'DFS:Prod:Auto:Secure;auto-loan-rates':'TRUE'},{'DFS:Prod:Auto:Secure;auto-refinance-loan':'TRUE'},{'DFS:Tool:Auto;Secure:Calc;auto-loan-calculator':'TRUE'},{'DFS:Tool:Auto:Secure:Calc;auto-refinance-calculator':'TRUE'},{'DFS:Prod:Auto:Secure;disability-access-loans':'TRUE'},{'DFS:Prod:Auto:Secure;how-car-loans-work':'TRUE'},{'DFS:Prod:Auto:Secure;buying-your-first-car':'TRUE'},{'DFS:Prod:Auto:Secure;financing-a-car':'TRUE'},{'DFS:Prod:Auto:Secure;when-to-refinance-a-car':'TRUE'},{'DFS:Prod:Auto:Secure;car-buying-process':'TRUE'},{'DFS:Prod:Auto:Secure;buying-new-or-used-cars':'TRUE'},{'DFS:Prod:Auto:Secure;what-to-know-when-buying-car':'TRUE'},{'DFS:Content:Auto:Secure:FAQ;auto-loan-faqs':'TRUE'},{'Dep:Prod:ViewAccountTypes:Checking;checking-accounts':'TRUE'},{'Dep:Prod:ViewAccountTypes:Checking;core-checking-Account':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;core-checking-Account':'TRUE'},{'Dep:Prod:ViewAccountTypes:Checking;interest-checking-account':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;interest-checking-account':'TRUE'},{'Dep:Prod:ViewAccountTypes:Checking;safebalance':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;safebalance':'TRUE'},{'Dep:Prod:ViewAccountTypes:Savings;savings-accounts':'TRUE'},{'Dep:Prod:ViewAccountTypes:Savings;regular-savings-account':'TRUE'},{'Dep:Prod:Before-You-Apply:Savings;rewards-money-market-savings-account':'TRUE'},{'Dep:Prod:ViewAccountTypes:Savings;rewards-money-market-savings-account':'TRUE'},{'Dep:Prod:ViewAccountTypes:Savings;child-savings-accounts':'TRUE'},{'Dep:Prod:ViewAccountTypes:Savings;utma-savings-account-for-children':'TRUE'},{'Dep:Prod:Before-You-Apply:Savings;utma-savings-account-for-children':'TRUE'},{'Dep:Prod:ViewAccountTypes:CDs;cd-accounts':'TRUE'},{'Dep:Prod:ViewAccountTypes:CDs;featured-bank-cd':'TRUE'},{'Dep:Prod:Before-You-Apply:CDs;featured-bank-cd':'TRUE'},{'Dep:Prod:ViewAccountTypes:CDs;standard-term-certificate-of-deposit':'TRUE'},{'Dep:Prod:Before-You-Apply:CDs;standard-term-certificate-of-deposit':'TRUE'},{'Dep:Prod:ViewAccountTypes:IRAs;retirement-accounts':'TRUE'},{'Dep:Prod:ViewAccountTypes:IRAs;savings-ira':'TRUE'},{'Dep:Prod:Before-You-Apply:IRAs;featured-ira':'TRUE'},{'Dep:Prod:Before-You-Apply:IRAs;standard-term-ira':'TRUE'},{'Dep:Content:ManageYourMoney;dynamic-interest-rates':'TRUE'},{'Dep:Content:FAQ;account-fees':'TRUE'},{'Dep:Prod:ViewAccountTypes:Checking;checking-clarity-statement':'TRUE'},{'Dep:Content:ViewAccountTypes;bank-accounts':'TRUE'},{'Dep:Prod:Savings:Auth-Sales;basic':'TRUE'},{'Dep:Prod:Checking:Auth-Sales;enrolled_platinum':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;auth-interest':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;auth-core':'TRUE'},{'Dep:Prod:Savings:Sales;basic':'TRUE'},{'Dep:Prod:Checking:Sales;basic':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;interest':'TRUE'},{'Dep:Prod:Before-You-Apply:Checking;core':'TRUE'},{'Dep:Prod:Savings;Auth-Sales;rewards-savings-account':'TRUE'},{'Dep:Prod:Savings:Auth-Sales;rewards-savings-account':'TRUE'},{'Dep:Prod:Checking:Auth-Sales;basic':'TRUE'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_TT_Logging']=c[e][f];m=true};};if(m)break};if(!m)b['Load_TT_Logging']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'OSP:Content:OLB;feature-gallery':'true'},{'Dep:Tool:ManageYourMoney;savings-goal-calculator':'true'},{'GenBanking:Content:FAQ;HelpOverview':'true'},{'GenBanking:Content:LifeEvents;overview':'true'},{'GenBanking:Content:LifeEvents;getting_married':'true'},{'GenBanking:Content:LifeEvents;having_a_child':'true'},{'GenBanking:Content:LifeEvents;dealing_with_divorce':'true'},{'GenBanking:Content:LifeEvents;changing_jobs':'true'},{'GenBanking:Content:LifeEvents;losing_a_loved_one':'true'},{'GenBanking:Content:LifeEvents;buying_or_selling_a_home':'true'},{'GenBanking:Content:LifeEvents;saving_for_college':'true'},{'GenBanking:Content:LifeEvents;working_in_retirement':'true'},{'OLB:Mkt:Accounts;SpecialOffers':'true'},{'GenBanking:Content:FAQ;SmBusRetirementSvcs':'true'},{'GenBanking:Content:FAQ;help-when-a-customer-passes-away':'true'},{'GenBanking:Content:FAQ;FactsAboutCorporation':'true'},{'GenBanking:Content:FAQ;SmBusLoansLinesLeasing':'true'},{'GenBanking:Content:FAQ;SmBusInvestments':'true'},{'GenBanking:Content:FAQ;SmBusDebitATMCards':'true'},{'GenBanking:Content:FAQ;MilitaryBanking':'true'},{'GenBanking:Content:FAQ;help-goodwill-adjustment':'true'},{'GenBanking:Content:FAQ;SmBusCheckingSavingsCDs':'true'},{'GenBanking:Content:NeedToUpdate':'true'},{'GenBanking:Content:FAQ;InvestServices':'true'},{'GenBanking:Content:FAQ;FinancialCenter':'true'},{'OLB:Mkt:Accounts;OpenanAccount':'true'},{'contact:Content:GlobalContact;MobileTextBanking':'true'},{'contact:Content:GlobalContact;ATMContactus':'true'},{'contact:Content:GlobalContact;SpecialBanking':'true'},{'contact:Content:GlobalContact;OLBBillPay':'true'},{'contact:Content:GlobalContact;CheckSave':'true'},{'contact:Content:GlobalContact;CDs_IRAs':'true'},{'contact:Content:GlobalContact;MHE':'true'},{'contact:Content:GlobalContact;SmallBusiness':'true'},{'contact:Content:GlobalContact;AutoLoans':'true'},{'contact:Content:GlobalContact;CreditCards':'true'},{'contact:Content:GlobalContact;About_BAC':'true'},{'contact:Content:GlobalContact;PrivacyandSecurity':'true'},{'contact:Content:GlobalContact;Insurance':'true'},{'OSP:Content:OLB:OLB_Education;how-to-be-smart-with-money':'true'},{'OSP:Content:OLB:OLB_Education;automatic-bill-pay':'true'},{'OSP:Content:OLB;Learning_Center':'true'},{'OSP:Content:OLB:OLB_Education;identity-theft-vs-credit-card-fraud':'true'},{'OSP:Content:OLB:OLB_Education;internet-safety-and-security-essentials':'true'},{'OSP:Content:OLB:OLB_Education;mobile-security-threats':'true'},{'OSP:Content:OLB:OLB_Education;how-secure-is-your-computer':'true'},{'OSP:Content:OLB;Online_Banking':'true'},{'OSP:Content:OLB;mobile-wallet':'true'},{'OSP:Content:OLB;Electronic_Funds_Transfer_FAQS':'true'},{'OSP:Content:OLB:OLB_Education;Online_Banking_Alerts':'true'},{'OSP:Content:OLB:OLB_Education;Money_Management_Tips':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Banking-Alerts':'true'},{'OSP:Content:OLB:OLB_Education;Checking_Account_Features':'true'},{'OSP:Content:OLB;Online_Banking_Security_Guarantee':'true'},{'OSP:Content:OLB:OLB_Education;smartphone-security-tips':'true'},{'OSP:Content:OLB:OLB_Education;online-bill-payment':'true'},{'OSP:Content:OLB:OLB_Education;Internet_Security_Tips':'true'},{'OSP:Content:OLB:OLB_Education;how-to-spend-money-wisely':'true'},{'OSP:Content:OLB;Online_Financial_Management_FAQS':'true'},{'smbus:Content:practice_loans:resources;practice-heartbeat':'true'},{'OSP:Content:OLB;eBills_FAQS':'true'},{'OSP:Content:OLB;Online_Banking_Services_FAQS':'true'},{'OSP:Content:OLB:OLB_Education;Send-Money-with-Your_MobileApp':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Bill-Pay':'true'},{'OSP:Content:OLB:OLB_Education;how-to-send-money-online':'true'},{'OSP:Content:OLB:OLB_Education;consolidate-bank-accounts':'true'},{'OSP:Content:OLB;Online_Bill_Pay':'true'},{'OSP:Content:OLB:OLB_Education;ways-to-send-money':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Bank-Transfers':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Deposits':'true'},{'OSP:Content:OLB;Online_Banking_Security_FAQS':'true'},{'OSP:Content:OLB;Learning_Center':'true'},{'OSP:Content:OLB:OLB_Education;Features_of_Online_Banking':'true'},{'OSP:Content:OLB;apple-pay-faqs':'true'},{'OSP:Content:OLB;Account_Services_FAQS':'true'},{'OSP:Content:OLB;Online_Bank_Account':'true'},{'OSP:Content:OLB;Financial_Management_Tools':'true'},{'OSP:Content:OLB:OLB_Education;save-with-automatic-payments':'true'},{'OSP:Content:OLB:OLB_Education;how-to-transfer-money-between-bank-accounts':'true'},{'OSP:Content:OLB:OLB_Education;how-to-pay-bills-online':'true'},{'OSP:Content:OLB:OLB_Education;How_To_Overcome_Financial_Problems':'true'},{'OSP:Content:OLB:OLB_Education;how-does-your-cell-phone-usage-stack-up':'true'},{'OSP:Content:OLB:OLB_Education;the-evolution-of-banking':'true'},{'smbus:Tool:practice_loans;practice_loans_contact_us':'true'},{'smbus:Tool:practice_loans;practice_loans_contact_us_errors':'true'},{'smbus:Content:practice_loans:FAQ:FAQs':'true'},{'smbus:Content:practice_loans:resources;events-dentists':'true'},{'smbus:Content:practice_loans:resources;endorsements':'true'},{'Privacy:Content:Privacy;consumer-privacy-notice':'true'},{'Privacy:Content:FAQ;collecting-information-faq':'true'},{'Privacy:Content:FAQ;online-banking-faq':'true'},{'Privacy:Content:FAQ;online-privacy-faq':'true'},{'Privacy:Content:Accounts_Cards;checking-savings-security':'true'},{'Privacy:Content:FAQ;safepass-faq':'true'},{'Privacy:Content:Accounts_Cards;ATM-security':'true'},{'Privacy:Content:Problem_Resources;external-resources':'true'},{'Privacy:Content:FAQ;sharing-information-faq':'true'},{'Privacy:Content:Accounts_Cards;shopsafe':'true'},{'Privacy:Content:FAQ;privacy-choices-faq':'true'},{'Privacy:Content:FAQ;data-compromise-faq':'true'},{'Privacy:Content:Accounts_Cards;credit-debit-card-security':'true'},{'Privacy:Content:Online_Mobile_Security;mcafee-antivirus-free-trial':'true'},{'Privacy:Content:Online_Mobile_Security;trusteer-rapport':'true'},{'Privacy:Content:Online_Mobile_Security;safepass':'true'},{'Privacy:Content:Problem_Resources;report-suspicious-email':'true'},{'Privacy:Content:Problem_Resources;privacy-policy-glossary':'true'},{'Privacy:Content:Online_Mobile_Security;email-fraud':'true'},{'Privacy:Content:FAQ;emv-chip-card-faq':'true'},{'Privacy:Content:Privacy;affiliate-companies':'true'},{'Privacy:Content:FAQ;protecting-information-faq':'true'},{'Privacy:Content:Accounts_Cards;emv-chip-card-technology':'true'},{'Privacy:Content:Online_Mobile_Security;security-center':'true'},{'Privacy:Content:Online_Mobile_Security;online-banking-security':'true'},{'Privacy:Content:Problem_Resources;resolve-identity-theft':'true'},{'Privacy:Content:Overview;overview':'true'},{'Privacy:Content:Overview;privacy-overview':'true'},{'Privacy:Content:Privacy;online-privacy-notice':'true'},{'Privacy:Content:Problem_Resources;report-lost-stolen-credit-card':'true'},{'Privacy:Content:Problem_Resources;report-data-compromise':'true'},{'Privacy:Content:Online_Mobile_Security;mobile-banking-security':'true'},{'Privacy:Content:FAQ;trusteer-rapport-faq':'true'},{'OLB:Content:Accounts;Accounts_Overview':'true'},{'homepage:Content;home_personal':'noload'},{'OLB:Content:Accounts;Accounts_Overview_SB':'true'},{'OLB:Content:CustSvc;Profile_Settings':'true'},{'cards:Tool:Credit_Cards;ecloOffers':'noload'},{'DEV-TEST-JH-001':'true'},{'GenBanking:Content:FAQ;international-contact-us':'true'},{'homepage:Content:Smbus;homepage_smbus':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_LegacyOpinionLabs']=c[e][f];m=true};};if(m)break};if(!m)b['Load_LegacyOpinionLabs']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'GWM:Mkt:MerrillEdge:FSA;overview':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_ME_EnterpriseTagging']=c[e][f];m=true};};if(m)break};if(!m)b['Load_ME_EnterpriseTagging']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'Dep:Prod:Checking:Auth-Sales':'Dep:Prod:Checking:Auth-Sales;enrolled_gold-_-GOLD-ENROLLED,Dep:Prod:Checking:Auth-Sales;enrolled_platinum-_-PLATINUM-ENROLLED,Dep:Prod:Checking:Auth-Sales;enrolled_ph-_-PLATINUM-HONORS-ENROLLED,Dep:Prod:Checking:Auth-Sales;eligible_gold-_-GOLD-ELIGIBLE,Dep:Prod:Checking:Auth-Sales;eligible_platium-_-PLATINUM-ELIGIBLE,Dep:Prod:Checking:Auth-Sales;eligible_ph-_-PLATINUM-HONORS-ELIGIBLE,Dep:Prod:Checking:Auth-Sales;existing_cc-_-CREDIT-CARD,Dep:Prod:Checking:Auth-Sales;existing_interest_checking-_-INTEREST-CLASSIC,Dep:Prod:Checking:Auth-Sales;existing_advantageTiered_checking-_-INTEREST-ADVANTAGE,Dep:Prod:Checking:Auth-Sales;basic-_-DEFAULT'},{'Dep:Prod:Savings:Auth-Sales':'Dep:Prod:Savings:Auth-Sales;enrolled_gold-_-GOLD-ENROLLED,PDep:Prod:Savings:Auth-Sales;enrolled_platinum-_-PLATINUM-ENROLLED,Dep:Prod:Savings:Auth-Sales;enrolled_ph-_-PLATINUM-HONORS-ENROLLED,Dep:Prod:Savings:Auth-Sales;eligible_gold-_-GOLD-ELIGIBLE,Dep:Prod:Savings:Auth-Sales;eligible_platium-_-PLATINUM-ELIGIBLE,Dep:Prod:Savings:Auth-Sales;eligible_ph-_-PLATINUM-HONORS-ELIGIBLE,Dep:Prod:Savings:Auth-Sales;existing_cc-_-CREDIT-CARD,Dep:Prod:Savings:Auth-Sales;existing_interest_checking-_-INTEREST-CLASSIC,Dep:Prod:Savings:Auth-Sales;existing_advantageTiered_checking-_-INTEREST-ADVANTAGE,Dep:Prod:Savings:Auth-Sales;basic-_-DEFAULT'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d.toString().indexOf(f)>-1){b['Dynamic_PageView_Element']=c[e][f];m=true};};if(m)break};if(!m)b['Dynamic_PageView_Element']='';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'homepage:Content:smbus;homepage_smbus':'true'},{'homepage:Content;home_personal':'true'},{'homepage:Content:Personal;homepage_personal':'true'},{'homepage:Content:smbus;smbus_homepage':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['disableChatIfNotActive']=c[e][f];m=true};};if(m)break};if(!m)b['disableChatIfNotActive']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'smbus:Content:practice_loans:resources;overview':'Chat_online-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs947;ord=1|equipment_loan_calculator_topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|events_trade_schedule-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|business_financing-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|Request_information_now-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibc681;cat=gcibh253;ord=1|resources_topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2015_038;ord=1|see_all_our_FAQs-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|starting-new-practice-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|buying-existing-practice-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|tips-dental-startup-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|tips-dental-acquisition-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1|equipment_loan_calculator-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_011;ord=1'},{'smbus:Content:practice_loans:resources;practice-heartbeat':'practice_heartbeat_sign_in-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2015_039;ord=1'},{'smbus:Content:practice_loans:FAQ:FAQs':'Chat_online-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs947;ord=1|faqs_topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00x;ord=1|business_financing-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|print-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Request_information_now-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibc681;cat=gcibh253;ord=1|show-all-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|What_are_your_practice_loan_interest_rates-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|What_loan_terms_do_you_offer-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|_What_loan_fees_do_you_charge-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Are_any_fee_discounts_offered_to_endorsed_group_members-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Do_you_offer_straight_working_capital-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Can_I_refinance_credit_cards_with_a_practice_loan-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|What_is_the_maximum_amount_I_can_borrow-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Do_you_offer_100_financing-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|What_are_the_loan_approval_requirements-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Which_medical_specialties_do_you_finance-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Can_I_make_a_loan_payment_online_or_over_the_phone-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Im_thinking_of_starting_my_own_practice_Will_you_offer_any_business_support_in_my_first_year-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|Im_currently_in_a_residency_Am_I_eligible_for_a_loan-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1|faqs_show_all-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_012;ord=1'},{'smbus:Content:practice_loans:resources;events-dentists':'events_topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00y;ord=1|print-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_013;ord=1|select-url-module-nav-anchor-skin-go-button-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_013;ord=1'},{'smbus:Content:practice_loans:resources;endorsements':'alabama_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|arizona_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|california_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|connecticut_state_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|florida_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|georgia_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|Illinois_State_Dental_Society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|Indiana_Dental_Association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|maryland_state_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|massachusetts_dental_society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|michigan_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|new_hampshire_dental_society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|new_jersey_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|newyork_state_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|north_carolina_dental_society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|ohio_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|oregon_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|pennsylvania_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|seattle_king_county_dental_society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|tennessee_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|texas_dental_association_perks_program-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|virginia_dental_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|american_veterinary_medical_association-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|american_academy_of_family_physicians-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|american_college_of_physicians-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|american_society_of_plastic_surgeons-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1|Illinois_State_Medical_Society-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_014;ord=1'},{'smbus:Prod:Dep:Checking;business-advantage-application':'go-to-application-_-https://fls.doubleclick.net/activityi;src=1359940;type=small652;cat=2016_00h;ord=1'},{'smbus:Prod:Dep:Checking;business-fundamentals-application':'go-to-application-_-https://fls.doubleclick.net/activityi;src=1359940;type=small652;cat=2016_00g;ord=1'},{'HL:Content:Mortgage;overview':'prequalify-now-medium-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_036;ord=1|phone_number_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_037;ord=1|schedule_an_appointment_engagment-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_038;ord=1|get_a_call_back_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_039;ord=1|phone_number-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03-;ord=1|get-a-call-back-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03a;ord=1|schedule-appt-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03b;ord=1|callUsMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_037;ord=1|scheduleAnAppointmentMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_038;ord=1|getCalledBackMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_039;ord=1|prequalifyTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_036;ord=1|phone_number_2-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03-;ord=1'},{'HL:Content:HE;overview':'apply-now-medium-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03d;ord=1|phone_number_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03e;ord=1|schedule_an_appointment_engagment-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03f;ord=1|get_a_call_back_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03g;ord=1|phone_number-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03h;ord=1|get-a-call-back-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03i;ord=1|schedule-appt-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03j;ord=1|callUsHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03e;ord=1|scheduleAnAppointmentHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03f;ord=1|getCalledBackHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03g;ord=1|prequalifyTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03d;ord=1|phone_number_2-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03h;ord=1'},{'HL:Prod:Mortgage;Affordable-loan-solution':'prequalify-now-medium-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00x;ord=1|phone_number_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00y;ord=1|schedule_an_appointment_engagment-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00_;ord=1|get_a_call_back_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00z;ord=1|phone_number-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_01;ord=1|get-a-call-back-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_010;ord=1|schedule-appt-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_011;ord=1|callUsTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00y;ord=1|scheduleAnAppointmentTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00_;ord=1|getCalledBackTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00z;ord=1|prequalifyTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_00x;ord=1|phone_number_2-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_01;ord=1'},{'HL:Content:Mortgage;overview_ES':'prequalify-now-medium-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_036;ord=1|phone_number_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_037;ord=1|schedule_an_appointment_engagment-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_038;ord=1|get_a_call_back_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_039;ord=1|phone_number-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03-;ord=1|get-a-call-back-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03a;ord=1|schedule-appt-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03b;ord=1|callUsMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_037;ord=1|scheduleAnAppointmentMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_038;ord=1|getCalledBackMortgageTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_039;ord=1|prequalifyTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_036;ord=1|phone_number_2-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03-;ord=1'},{'HL:Content:HE;overview_ES':'apply-now-medium-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03d;ord=1|phone_number_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03e;ord=1|schedule_an_appointment_engagment-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03f;ord=1|get_a_call_back_engagement-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03g;ord=1|phone_number-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03h;ord=1|get-a-call-back-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03i;ord=1|schedule-appt-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03j;ord=1|callUsHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03e;ord=1|scheduleAnAppointmentHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03f;ord=1|getCalledBackHomeEquityOverviewTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03g;ord=1|prequalifyTabNav-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03d;ord=1|phone_number_2-_-https://fls.doubleclick.net/activityi;src=1359940;type=hliip069;cat=2017_03h;ord=1'},{'DFS:Prod:Auto;Auto_Shopping_Program':'anc-deposits-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00r;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00s;ord=1|header-signin-small-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00s;ord=1|ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00t;ord=1|shop-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00u;ord=1|apply-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00v;ord=1|drive-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00w;ord=1|dtShopforCar-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00x;ord=1|find-out-more-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00y;ord=1|ConnectWithSpecialist_ScheduleAnAppointment-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00z;ord=1'},{'DFS:Prod:Auto:Secure;Auto_Shopping_Program':'anc-deposits-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00r;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00s;ord=1|header-signin-small-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00s;ord=1|ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00t;ord=1|shop-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00u;ord=1|apply-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00v;ord=1|drive-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00w;ord=1|dtShopforCar-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00x;ord=1|find-out-more-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00y;ord=1|ConnectWithSpecialist_ScheduleAnAppointment-_-https://fls.doubleclick.net/activityi;src=1359940;type=ddtlp125;cat=2017_00z;ord=1'},{'smbus:Content:practice_loans:health_care;overview':'ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00z;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs463;ord=1|healthcare-practice-loans-overview-topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2015_02o;ord=1|medical-practice-loans-topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs822;ord=1|veterinary-practice-loans-topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs266;ord=1|dental-practice-loans-topnav-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=zuzca075;ord=1|dentalPracticeLoans-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00z;ord=1|vetPracticeLoans-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00z;ord=1|medicalPracticeLoans-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00z;ord=1|appointmentLink-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00z;ord=1'},{'smbus:Content:practice_loans:health_care;veterinary-loans':'ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs463;ord=1|talkToSpecialistRefinanceOfficeSpace-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1|talkToSpecialistLeaseEquipment-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1|talkToSpecialistConsolidateDebt-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1|getStarted-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1|appointmentLink-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_01;ord=1'},{'smbus:Content:practice_loans:health_care;dentist-loans':'ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs463;ord=1|talkToSpecialistRefinanceOfficeSpace-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1|talkToSpecialistLeaseEquipment-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1|talkToSpecialistConsolidateDebt-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1|appointmentLink-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1|getStarted-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_00_;ord=1'},{'smbus:Content:practice_loans:health_care;medical-loans':'ancShowHideRelatedLinks-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1|header-signin-_-https://fls.doubleclick.net/activityi;src=1359940;type=gcibl189;cat=pracs463;ord=1|talkToSpecialistRefinanceOfficeSpace-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1|talkToSpecialistLeaseEquipment-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1|talkToSpecialistConsolidateDebt-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1|getStarted-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1|appointmentLink-_-https://fls.doubleclick.net/activityi;src=1359940;type=sdlpb511;cat=2016_010;ord=1'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['dart_lookup_click_element']=c[e][f];m=true};};if(m)break};if(!m)b['dart_lookup_click_element']='';},function(a,b){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','productview',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='1.1.0',ddo=win.digitalData,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};if(!ddo)return;var _handlePageview=function(details){if(ba.productview)ba.productview();}
var _init=function(){ba._log('bactm.productview plugin v'+version+' initializing.',LOG_LEVEL.INFO);ba.on('afterPageview',_handlePageview);}
_init();return{};});},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].appName'];if(typeof d=='undefined')return;c=[{'ALP':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true,"completeIfSaveAndReturn":true,"completeOnElementBlur":"applicantInfoList0firstName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[500],"completeAppOnEventComplete":true}]'},{'CDP':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[500,150,155],"completeAppOnEventComplete":true}]'},{'SB_ULOAN':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[500],"completeAppOnEventComplete":true}]'},{'SB_DEP':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true,"completeOnElementBlur":"businessLegalName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[500],"completeAppOnEventComplete":true}]'},{'DMAP':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true,"completeOnElementBlur":"firstName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[800,805],"completeAppOnEventComplete":true}]'},{'DMAR':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true,"completeOnElementBlur":"firstName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[800,805],"completeAppOnEventComplete":true}]'},{'SBVL':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeIfAuthenticated":true,"completeOnElementBlur":"businessLegalName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[600],"completeAppOnEventComplete":true}]'},{'BAMS':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":[100,125],"completeIfAuthenticated":true,"completeIfSaveAndReturn":true,"completeOnElementBlur":"legalNameField"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","cartViewOnInitiate":true,"completeOnStepNumber":[700],"completeAppOnEventComplete":true}]'},{'BAMSLF':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":100,"completeOnElementBlur":"firstNameField"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","completeOnStepNumber":[200]}]'},{'ICEPOS':'[{"eventId":"view","eventName":"App View to Start","initiateOnStepNumber":[50],"completeIfAuthenticated":true,"completeIfSaveAndReturn":true,"completeOnElementBlur":"customerFirstName"},{"eventId":"submit","eventName":"App Start to Submit","initiateOnEventComplete":"view","completeOnStepNumber":[500]}]'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['App_Conversion_Settings']=c[e][f];m=true};};if(m)break};if(!m)b['App_Conversion_Settings']='';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'':''}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_getCoremetricsIdPlugin']=c[e][f];m=true};};if(m)break};if(!m)b['Load_getCoremetricsIdPlugin']='false';},function(a,b){try{if(1){try{b['js_page.CurrentPageID']=bactm.getCurrentPageID();}catch(e){}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(){"undefined"===typeof window.bactm&&(window.bactm={},window.bactm.pageview=function(o,n){window.dataCollector=window.dataCollector||[],window.dataCollector.push({event:"pageview",eventKey:o,options:n});});})();if(digitalData&&digitalData.page&&digitalData.page.pageInfo[0]){if(digitalData.page.pageInfo[0].pageID==="OSP:TOOL:BBA;BBA_Appt_Details"){bactm.pageview(0);}
else if(digitalData.page.pageInfo[0].pageID==="OSP:Tool:BBA;BBA_Select_Zip_Location"){bactm.pageview(0);}
else if(digitalData.page.pageInfo[0].pageID==="OSP:Tool:BBA;BBA_Select_Specialist"){bactm.pageview(0);}}}}catch(e){utag.DB(e)}},function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','customEvents',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='1.5.0',ddo=win.digitalData,clickEventListenerAdded=false,ht='',allRules=[],parsedRules={},classSelectors=[],idSelectors=[],acceptedSelectors=['.','#'],LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};var _fireGoogleAnalytics=function(el,rule){ba._log(':: Custom Event :: Handle Google Analytics.',LOG_LEVEL.DEBUG);if(typeof ga!=='function'){ba._log('ga is not a function. Click info not sent to GA.',LOG_LEVEL.ERROR);return;}
var d=rule.custom;ga('send','event',d.category,d.action,d.label);}
var _fireCoremetricsManualLink=function(el,rule){ba._log(':: Custom Event :: Coremetrics Manual Link Click',LOG_LEVEL.DEBUG);if(typeof bactm_cmCreateManualLinkClickTag!=='function'){ba._log('bactm_cmCreateManualLinkClickTag is not a function. Click info not sent to CM.',LOG_LEVEL.ERROR);return;}
var pageID='',page=ddo.page||{},attr=page.attributes||{},history=attr.pageIDHistory||[];if(Array.isArray(history)&&history.length>0){pageID=history[history.length-1].pageID||'';}else if(Array.isArray(page.pageInfo)){pageID=page.pageInfo[0].pageID||'';}
var d=rule.custom;el=el||{};bactm_cmCreateManualLinkClickTag(el.href||d.href||d.category,d.label,pageID);}
var _fireAAM=function(el,rule){ba._log(':: Custom Event :: Handle Audiance Manager',LOG_LEVEL.DEBUG);if(!bactm_aamApi||typeof bactm_aamApi.submit!=='function'){ba._log('bactm_aamApi is not a function. Click info not sent to AAM.',LOG_LEVEL.ERROR);return;}
if(el&&typeof rule['aam']==='boolean'&&rule['aam']===true){var signalVal=[],ca=el.getAttribute('data-bactmln');if(el.id)signalVal.push(el.id);if(ca)signalVal.push(ca);if(signalVal.length===0&&el.href)signalVal.push(el.href);bactm_aamApi.addToSignals('elementClicked',signalVal.join('_'));bactm_aamApi.submit();return;}
for(var s in rule['aam']){bactm_aamApi.addToSignals(s,rule.aam[s]);}
bactm_aamApi.submit();}
var _fireDART=function(el,rule){ba._log(':: Custom Event :: Handle DART.',LOG_LEVEL.DEBUG);var dartUrls=ba._asArray(rule['dart']);if(!dartUrls)return false;var body=doc.body;dartUrls.forEach(function(url){var ranNum=Math.random()*10000000000000;var img=doc.createElement('img');img.width='1';img.height='1';img.frameBorder='0';img.style.display='none';img.src='https://fls.doubleclick.net/activityi'+url+';num='+ranNum;body.appendChild(img);});}
var _fireMillwardBrown=function(el,rule){ba._log(':: Custom Event :: Handle Millward Brown.',LOG_LEVEL.DEBUG);var millwardBrown=ba._asArray(rule['millwardBrown']);if(!millwardBrown)return false;millwardBrown.forEach(function(mb){bactm.plugins.millwardBrown.initCampaign({"campaignId":mb.campaignId,"details":{"banerId":mb.banerId,"control":mb.control}})});}
var _firePixelTag=function(el,rule){ba._log(':: Custom Event :: Handle Pixel Tag.',LOG_LEVEL.DEBUG);var pixel=ba._asArray(rule['pixelTag']);if(!pixel)return false;pixel.forEach(function(p){bactm.plugins.pixelTag.firePixelTag(p.url,{"cacheBuster":p.cb||true,"startDt":p.startDt||null,"endDt":p.endDt||null});});}
var _fireConversionEvent=function(el,rule){ba._log(':: Custom Event :: Handle Conversion Events.',LOG_LEVEL.DEBUG);var events=ba._asArray(rule['conversions']);events.forEach(function(c){ba.conversion({eventName:c.eventName,actionType:c.actionType,category:c.category});});}
var _handleCustom=function(el,rule){if(!rule.custom||!rule.custom.to)return;var customHandlers={'ga':_fireGoogleAnalytics,'cm':_fireCoremetricsManualLink};rule.custom.to.forEach(function(provider){if(customHandlers[provider])customHandlers[provider](el,rule);});}
var _documentClickEventHandler=function(e){ba._log('Handling a click event on the document.',e,LOG_LEVEL.DEBUG);var path=_getEventPath(e);ba._log('The path for the element clicked is:',path,LOG_LEVEL.DEBUG);var matches=path.filter(function(el){var classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];var id=el.id||'';return classes.some(function(v){return classSelectors.indexOf(v)>=0;})||idSelectors.indexOf(id)>-1;});if(matches.length<=0)return;ba._log('Matches found in DOM click path.',matches,LOG_LEVEL.DEBUG);matches.forEach(_processElementInPathMatch);}
var _addDocumentClickEventListener=function(){ba._log('Creating global click event listener.',LOG_LEVEL.DEBUG);if(!clickEventListenerAdded){doc.addEventListener('click',_documentClickEventHandler,true);clickEventListenerAdded=true;}}
var _addInputEventListeners=function(){ba._log('Creating event listeners on inputs.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.inputRules,'blur');}
var _addSelectEventListeners=function(){ba._log('Creating event listeners on select elements.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.selectRules,'change');}
var _addHoverEventListeners=function(){ba._log('Creating event listeners on hover.',LOG_LEVEL.DEBUG);_addEventListeners(parsedRules.hoverRules,'hover');}
var _addEventListeners=function(rules,event){if(!Array.isArray(rules))return;rules.forEach(function(rule){if(rule.id){var el=doc.getElementById(rule.id);if(el&&el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}else if(rule.class){var elements=doc.getElementsByClassName(rule.class);for(var i=0,Len=elements.length||0;i<Len;i++){var el=elements[i];if(el.addEventListener){if(event==='hover'){_bindHoverEvent(el,rule);}else{el.addEventListener(event,function(e){_processRulesAgainstElement(this,rule);});}}}}});}
var _bindHoverEvent=function(el,rule){var storage={};var tracker={get:function(el){return storage[el+'On'];},set:function(el,value){storage[el+'On']=value;},delete:function(el){delete storage[el+'On'];}}
var startHover=function(e){tracker.set(this.id,Date.now());}
var endHover=function(e){var end=Date.now(),start=tracker.get(this.id);if(end-start>500){ht=(end-start);_processRulesAgainstElement(el,rule);}
tracker.delete(this.id);}
el.addEventListener('mouseover',startHover);el.addEventListener('mouseout',endHover);}
var _handleCustomEvent=function(details){ba._log('bactm.plugins.customEvents handling a customEvent.',LOG_LEVEL.DEBUG);if(typeof details==='undefined'||typeof details.eventKey==='undefined')return;var key=details.eventKey;var matchedRules=parsedRules.customRules.filter(function(rule){return rule.el.indexOf(key+':custom')===0;});if(matchedRules.length===0)return;matchedRules.forEach(function(rule){_processRulesAgainstCustomData(rule,details);});}
var _loadSettings=function(){ba._log('Loading click handler settings.',LOG_LEVEL.DEBUG);var settings=utag_data['customEventSettings']||utag_data['Custom_Event_Settings'];if(!settings)return;try{if(typeof settings==='string')settings=JSON.parse(settings);allRules=ba._asArray(settings).map(function(rule){var classSelectorLoc=rule.el.indexOf('.'),idSelectorLoc=rule.el.indexOf('#'),pseudoClassSelectorLoc=rule.el.indexOf(':'),t=classSelectorLoc>-1?classSelectorLoc:idSelectorLoc,r=pseudoClassSelectorLoc>-1?pseudoClassSelectorLoc:rule.el.length,s=rule.el.substring(t,1),name=rule.el.substring(t+1,r);rule['id']='';rule['class']='';if(idSelectorLoc>-1){rule['id']=name;if(idSelectorLoc===0)idSelectors.push(name);}
if(classSelectorLoc>-1){rule['class']=name;if(classSelectorLoc===0)classSelectors.push(name);}
if(rule.custom){if(!rule.custom.category)rule.custom.category='';if(!rule.custom.action)rule.custom.action='';if(!rule.custom.label)rule.custom.label='{{id}}_{{ca}}';}
return rule;});}catch(e){ba._log('Unable to parse the custom event settings. Valid JSON is required.',LOG_LEVEL.ERROR);return;}
parsedRules.clickRules=allRules.filter(function(rule){var s=rule.el?rule.el.substring(0,1):null;return s&&acceptedSelectors.indexOf(s)>-1;});parsedRules.inputRules=allRules.filter(function(rule){return rule.el.indexOf('input')===0;});parsedRules.selectRules=allRules.filter(function(rule){return rule.el.indexOf('select')===0;});parsedRules.hoverRules=allRules.filter(function(rule){return rule.el.indexOf(':hover')>-1;});parsedRules.customRules=allRules.filter(function(rule){return rule.el.indexOf(':custom')>-1;})
ba._log('Settings ready:',parsedRules,LOG_LEVEL.DEBUG);}
var _loadPageSettings=function(){ba._log('Loading page level settings.',LOG_LEVEL.DEBUG);settings=utag_data['pageSettings'];if(typeof settings==='string')
settings=JSON.parse(settings);parsedRules.pageRules=ba._asArray(settings);}
var _insertData=function(s,data){if(s.indexOf('{{')===-1||s.indexOf('}}')===-1)return s;for(var d in data){if(data.hasOwnProperty(d)){s=s.replace('{{'+d+'}}',data[d]);}}
return s;}
var _formatRuleWithData=function(rule,data){for(var r in rule){if(rule.hasOwnProperty(r)){if(typeof rule[r]==='string')rule[r]=_insertData(rule[r],data);else if(typeof rule[r]==='object')_formatRuleWithData(rule[r],data);}}}
var _getDataFromElement=function(el){return{'id':el.id||'','url':el.href||'','ca':el.getAttribute('data-bactmln')||el.getAttribute('data-bactm-ca')||'','val':el.value?_sanitizeWhitespace(el.value):'','ht':ht}}
var _processRule=function(ruleWithData,el){ba._log('Rule with data:',ruleWithData,LOG_LEVEL.DEBUG);var ruleHandlers={'custom':_handleCustom,'aam':_fireAAM,'dart':_fireDART,'conversions':_fireConversionEvent,'millwardBrown':_fireMillwardBrown,'pixelTag':_firePixelTag}
for(var r in ruleWithData){if(ruleWithData.hasOwnProperty(r)&&ruleHandlers[r])ruleHandlers[r](el,ruleWithData);}}
var _processRulesForPage=function(){var rulesToFire=ba._asArray(parsedRules.pageRules)
rulesToFire.forEach(function(rule){ba._log('rule to fire:',rule,LOG_LEVEL.DEBUG);var localRule=JSON.parse(JSON.stringify(rule));_processRule(localRule,null);});}
var _processRulesAgainstElement=function(el,rule,warmup){var localRule=JSON.parse(JSON.stringify(rule));var data=_getDataFromElement(el);_formatRuleWithData(localRule,data);if(warmup)return;_processRule(localRule,el);}
var _processElementInPathMatch=function(el){ba._log('Processing rules for:',el,LOG_LEVEL.DEBUG);var classes=typeof el.className==='string'?el.className.split(' ').filter(function(c){return c.length>0;}):[];var id=el.id||'';var rulesToFire=parsedRules.clickRules.filter(function(rule){return classes.indexOf(rule.class)>-1||(rule.id&&rule.id===id)});rulesToFire.forEach(function(rule){ba._log('rule to fire:',rule,LOG_LEVEL.DEBUG);_processRulesAgainstElement(el,rule);});}
var _processRulesAgainstCustomData=function(rule,details){var localRule=JSON.parse(JSON.stringify(rule));var data={};for(var key in details){data['c.'+key]=typeof details[key]==='string'?details[key]:JSON.stringify(details[key]);}
_formatRuleWithData(localRule,data);_processRule(localRule);}
var _warmUp=function(){var el=document.getElementsByTagName('a')[0];var rule=parsedRules.clickRules[0];if(el&&rule)_processRulesAgainstElement(el,rule,true);}
var _findInArray=function(haystack,predicate){if(!Array.isArray(haystack)||typeof predicate!=='function')return undefined;var value;for(var i=0,len=haystack.length;i<len;i++){value=haystack[i];if(predicate.call(value,value,i,haystack)){return value;}}
return undefined;}
var _getEventPath=function(event){var path=[];var target=event.target;while(target.parentNode){path.push(target);target=target.parentNode;}
return path;}
var _sanitizeWhitespace=function(value){return value.replace(/\s/g,'');}
var _init=function(){ba._log('bactm.plugins.customEvents v'+version+' initializing.',LOG_LEVEL.INFO);_loadSettings();_loadPageSettings();if(parsedRules.clickRules&&parsedRules.clickRules.length>0){ba.ready(_warmUp);ba.ready(_addDocumentClickEventListener);}
if(parsedRules.inputRules&&parsedRules.inputRules.length>0){ba.ready(_addInputEventListeners);}
if(parsedRules.selectRules&&parsedRules.selectRules.length>0){ba.ready(_addSelectEventListeners);}
if(parsedRules.hoverRules&&parsedRules.hoverRules.length>0){ba.ready(_addHoverEventListeners);}
if(parsedRules.customRules&&parsedRules.customRules.length>0){ba.on('customEvent',_handleCustomEvent);}
if(parsedRules.pageRules){ba.ready(_processRulesForPage);}}
_init();return{};});}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'OSP:Content:Mobile;mobile-banking-overview':'[{"el":"#mobile_app_download_send_button","pixelTag":{"startDt":"1-1-2016","endDt":"12-31-2999","url":"//www.googleadservices.com/pagead/conversion/1054100448/?label=3L0hCMH1nnEQ4JfR9gM&guid=ON&script=0"}}]'},{'DFS:Prod:Auto;Auto_Shopping_Program':'[{"el": "#dtShopforCar","pixelTag": [{"startDt": "1-1-2016","endDt": "12-31-2018","url": "https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:j1u67pn&fmt=4"}]}]'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Custom_Event_Settings']=c[e][f];m=true};};if(m)break};if(!m)b['Custom_Event_Settings']='';},function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','pixelTag',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='1.0.1',ddo=win.digitalData,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};if(!ddo)return;var _firePixelTag=function(url,opt){opt=opt||{};startDt=opt.startDt?new Date(opt.startDt):new Date('1-1-1970');endDt=opt.endDt?new Date(opt.endDt):new Date('1-1-2999');if(!(Date.now()>startDt&&Date.now()<endDt))return 0;url=(typeof url=="string"||url.length==0)?new Array(url):url;url.forEach(function(url,i){if(_verifyProtocol(url)){if(opt.cacheBuster)url=_cacheBuster(url);var tag=new bactm.PixelTag(url,i);if(typeof opt.parent=='undefined')tag.appendToBody();else tag.appendTo(opt.parent);ba._log('PixelTag fired with ID: '+i,LOG_LEVEL.INFO);}})}
var _verifyProtocol=function(url){if(url.substring(0,2)=="//")return 1;return(url.substring(0,5)!="https"&&location.protocol=="https:")?0:1;}
var _appendQueryString=function(url,key,val){var delimeter=(url.indexOf('?')>-1)?"&":"?";url=url+delimeter+encodeURIComponent(key)+"="+encodeURIComponent(val);return url;}
var _cacheBuster=function(url){url=_appendQueryString(url,"cb",Date.now())
return url;}
var _init=function(){ba._log('pixelTag plugin v'+version+' initializing.',LOG_LEVEL.INFO);}
_init();return{'firePixelTag':_firePixelTag};});}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'Dep:Prod:Before-You-Apply:Checking;interest-checking-account':'{"pixelTag": {"startDt": "1-1-2017","endDt": "12-31-2999","url": "//www.googleadservices.com/pagead/conversion/1054100448/?label=3eLTCK39hHEQ4JfR9gM&guid=ON&script=0"}}'},{'Dep:Prod:Before-You-Apply:CDs;featured-bank-cd':'{"pixelTag": {"startDt": "1-1-2017","endDt": "12-31-2999","url": "//www.googleadservices.com/pagead/conversion/1054100448/?label=sg41CIrDp1gQ4JfR9gM&guid=ON&script=0"}}'},{'homepage:Content:Personal;homepage_personal_signoff':'{"pixelTag": {"startDt": "1-1-2017","endDt": "12-31-2999","url": "//googleads.g.doubleclick.net/pagead/viewthroughconversion/1069091277/?value=1.00&label=lyaqCMnlwQIQzZPk_QM&guid=ON&script=0"}}'},{'DFS:Prod:Auto;Auto_Shopping_Program':'{"pixelTag": [{"startDt": "1-1-2017","endDt": "12-31-2999","url": "https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:m36t3un&fmt=4"}]}'},{'DFS:App:ALP;ALP_NonOLB:50:GetStarted':'{"pixelTag": [{"startDt": "1-1-2017","endDt": "12-31-2999","url": "//bat.bing.com/action/0?ti=5321434&Ver=2"}, {"startDt": "1-1-2017","endDt": "12-31-2999","url": "//www.googleadservices.com/pagead/conversion/1054100448/?value=1.00&currency_code=USD&guid=ON&script=0"}, {"startDt": "1-1-2017","endDt": "12-31-2999","url": "https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4"}]}'},{'DFS:Mkt:eLending;Auto_Loans_RWD_LP':'{"pixelTag": [{"startDt": "1-1-2017","endDt": "12-31-2999","url": "https://analytics.twitter.com/i/adsct?txn_id=nzd45&p_id=Twitter&tw_sale_amount=0&tw_order_quantity=0"},{"startDt": "1-1-2017","endDt": "12-31-2999","url": "//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0"}]}'},{'cards:Prod:Credit_Cards;overview':'{"pixelTag": [{"startDt": "1-1-2017","endDt": "12-31-2999","url": "https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:egvk82r&fmt=4"}]}'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['pageSettings']=c[e][f];m=true};};if(m)break};if(!m)b['pageSettings']='';},function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','pixelShim',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='0.2.0',ddo=win.digitalData,dc=win.dataCollector,pv=[],onPagePixels=[],LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1};if(!ddo)return;var _afterPageviewListener=function(){var dartPixels=[{'group':'dfsco831','activity':'2015_003','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4']},{'group':'dfsco831','activity':'2015_004','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4']},{'group':'dfsco831','activity':'2015_005','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4']},{'group':'dfsco831','activity':'2015_006','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4']},{'group':'dfsco831','activity':'2015_007','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:npcsueg&fmt=4']},{'group':'dfsco831','activity':'2015_008','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:f9g5ixg&fmt=4']},{'group':'dfsco831','activity':'2015_00a','pixel':['//bat.bing.com/action/0?ti=5321434&Ver=2','https://insight.adsrvr.org/track/conv/?adv=hantlq1&ct=0:p51lak8&fmt=4']},{'group':'hliip069','activity':'2017_05s','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','www.googleadservices.com/pagead/conversion/1054100448/?label=0dDxCIyByoIBEOCX0fYD&guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=search&noscript=1']},{'group':'hliip069','activity':'2017_05p','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=addtocart&noscript=1']},{'group':'hliip069','activity':'2017_05y','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=addtocart&noscript=1']},{'group':'hliip069','activity':'2017_05n','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=watchvideo&noscript=1']},{'group':'hliip069','activity':'2017_05w','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=watchvideo&noscript=1']},{'group':'hliip069','activity':'2017_05o','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=signup&noscript=1']},{'group':'hliip069','activity':'2017_05x','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=signup&noscript=1']},{'group':'hliip069','activity':'2017_052','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=search&noscript=1','//www.googleadservices.com/pagead/conversion/1054100448/?label=0dDxCIyByoIBEOCX0fYD&guid=ON&script=0']},{'group':'hliip069','activity':'2017_05g','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=addtocart&noscript=1']},{'group':'hliip069','activity':'2017_058','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=addtocart&noscript=1']},{'group':'hliip069','activity':'2017_05e','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=watchvideo&noscript=1']},{'group':'hliip069','activity':'2017_056','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=watchvideo&noscript=1']},{'group':'hliip069','activity':'2017_05f','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=signup&noscript=1']},{'group':'hliip069','activity':'2017_057','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=signup&noscript=1']},{'group':'consu959','activity':'2016_01k','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1068536067/?guid=ON&script=0']},{'group':'hliip069','activity':'2015_018','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//www.googleadservices.com/pagead/conversion/1054100448/?label=0dDxCIyByoIBEOCX0fYD&guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=search&noscript=1']},{'group':'hliip069','activity':'2018_00u','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=lead&noscript=1']},{'group':'hliip069','activity':'2018_00v','pixel':['//googleads.g.doubleclick.net/pagead/viewthroughconversion/1054100448/?guid=ON&script=0','//ct.pinterest.com/v3/?tid=2614876050078&noscript=1','//ct.pinterest.com/v3/?tid=2614876050078&event=lead&noscript=1']}];if(!dc||!Array.isArray(dc))
return 0;pv=dc.filter(function(a){return a.event=='pageview'});if(pv.length==0)
return 0;if(!ddo.page||!ddo.page.pageInfo||(typeof pv[pv.length-1].pageInfoKey=="undefined")||(typeof ddo.page.pageInfo[pv[pv.length-1].pageInfoKey]=="undefined")||!ddo.page.pageInfo[pv[pv.length-1].pageInfoKey].standardDART)
return 0;onPagePixels=dartPixels.filter(function(b){var dart='https://1359940.fls.doubleclick.net/activityi;src=1359940;type='+b.group+';cat='+b.activity+';ord=1'
return dart==ddo.page.pageInfo[pv[pv.length-1].pageInfoKey].standardDART})[0];if(typeof onPagePixels=="undefined")
return 0;console.log("PixelShim: "+onPagePixels)
onPagePixels.pixel.forEach(function(c){bactm.plugins.pixelTag.firePixelTag(c,{'cacheBuster':true,'startDt':null,'endDt':null});})}
var _init=function(){ba._log('pixelShim plugin v'+version+' initializing.',LOG_LEVEL.INFO);ba.on('afterPageview',_afterPageviewListener);}
_init();return{};});}}catch(e){utag.DB(e)}}];utag.handler.cfg_extend=[{"alr":1,"bwq":0,"id":"1","blr":0,"end":0},{"alr":1,"bwq":0,"id":"79","blr":0,"end":0},{"alr":0,"bwq":0,"id":"5","blr":1,"end":0},{"alr":0,"bwq":0,"id":"30","blr":1,"end":0},{"alr":0,"bwq":0,"id":"25","blr":1,"end":0},{"alr":0,"bwq":0,"id":"15","blr":1,"end":0},{"alr":0,"bwq":0,"id":"41","blr":1,"end":0},{"alr":0,"bwq":0,"id":"17","blr":1,"end":0},{"alr":0,"bwq":0,"id":"34","blr":1,"end":0},{"alr":0,"bwq":0,"id":"46","blr":1,"end":0},{"alr":0,"bwq":0,"id":"64","blr":1,"end":0},{"alr":0,"bwq":0,"id":"39","blr":1,"end":0},{"alr":1,"bwq":0,"id":"6","blr":0,"end":0},{"alr":0,"bwq":0,"id":"51","blr":1,"end":0},{"alr":1,"bwq":0,"id":"54","blr":0,"end":0},{"alr":1,"bwq":0,"id":"91","blr":0,"end":0},{"alr":1,"bwq":0,"id":"85","blr":0,"end":0},{"alr":1,"bwq":0,"id":"87","blr":0,"end":0},{"alr":0,"bwq":0,"id":"88","blr":1,"end":0},{"alr":0,"bwq":0,"id":"89","blr":1,"end":0},{"alr":0,"bwq":0,"id":"90","blr":1,"end":0},{"alr":1,"bwq":0,"id":"101","blr":0,"end":0}];utag.loader.initcfg=function(){utag.loader.cfg={"4":{load:utag.cond[5],send:1,v:201702101519,wait:1,tid:20010},"2":{load:(utag.cond[4]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"10":{load:utag.cond[9],send:1,v:201708171808,wait:1,tid:15011},"16":{load:utag.cond[10],send:1,v:201805251702,wait:1,tid:15011},"17":{load:utag.cond[8],send:1,v:201608111930,wait:1,tid:20010},"21":{load:(utag.cond[12]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"24":{load:utag.cond[14],send:1,v:201608111930,wait:1,tid:20010},"27":{load:(utag.cond[16]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"28":{load:(utag.cond[17]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"29":{load:(utag.cond[18]&&utag.cond[41]),send:1,v:201808201735,wait:1,tid:20010},"30":{load:(utag.cond[37]&&utag.cond[19]),send:1,v:201807051612,wait:1,tid:20010},"31":{load:(utag.cond[20]&&utag.cond[41]),send:1,v:201807120211,wait:1,tid:20010},"32":{load:utag.cond[21],send:1,v:201611031653,wait:1,tid:20010},"35":{load:(utag.cond[24]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"36":{load:(utag.cond[24]&&utag.cond[41]),send:1,v:201807051612,wait:1,tid:20010},"37":{load:utag.cond[25],send:1,v:201708171808,wait:1,tid:20010},"38":{load:utag.cond[26],send:1,v:201808021831,wait:1,tid:20010},"42":{load:utag.cond[30],send:1,v:201802082121,wait:1,tid:20010},"44":{load:utag.cond[31],send:1,v:201709281740,wait:1,tid:20010},"49":{load:utag.cond[32],send:1,v:201708171808,wait:1,tid:20010},"46":{load:utag.cond[33],send:1,v:201711092035,wait:1,tid:20010},"48":{load:utag.cond[34],send:1,v:201711092035,wait:1,tid:20010},"54":{load:utag.cond[39],send:1,v:201805211436,wait:1,tid:20010},"55":{load:(utag.cond[40]&&utag.cond[41]),send:1,v:201808031344,wait:1,tid:20010},"62":{load:(utag.cond[44]&&utag.cond[38]&&utag.cond[41]),send:1,v:201808170523,wait:1,tid:20010}};utag.loader.cfgsort=["4","2","10","16","17","21","24","27","28","29","30","31","32","35","36","37","38","42","44","49","46","48","54","55","62"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(var i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[i]=utag_cfg_ovrd[i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1&&b.s2s!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}